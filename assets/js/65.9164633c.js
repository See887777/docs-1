(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{512:function(t,s,a){"use strict";a.r(s);var e=a(8),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"beaker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#beaker"}},[t._v("#")]),t._v(" Beaker")]),t._v(" "),a("p",[t._v("Beaker is CosmWasm development tooling that makes it easy to scaffold and bootstrap a new CosmWasm app!")]),t._v(" "),a("p",[t._v("Beaker has all of the dependencies for Osmosis hooked up, and a sample front-end at the ready.")]),t._v(" "),a("h2",{attrs:{id:"getting-started"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getting-started"}},[t._v("#")]),t._v(" Getting Started")]),t._v(" "),a("p",[t._v("First, please install "),a("a",{attrs:{href:"https://doc.rust-lang.org/cargo/getting-started/installation.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cargo"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Install Beaker with")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("cargo "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" beaker.\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Then create a new project with:")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("beaker new counter-dapp\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("After that we can create new contract (this command uses template from (cw-template)[https://github.com/osmosis-labs/cw-tpl-osmosis])")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" counter-dapp\nbeaker wasm new counter\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("Deploy contract on LocalOsmosis\nMake sure LocalOsmosis has been started (see: "),a("a",{attrs:{href:"https://docs.osmosis.zone/developing/tools/localosmosis.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("LocalOsmosis Docs"),a("OutboundLink")],1),t._v(").")]),t._v(" "),a("p",[t._v("After that, counter contract can be deployed (build + store-code + instantiate) using the following command:")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("beaker wasm deploy counter --signer-account test1 --no-wasm-opt --raw "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{ \"count\": 0 }'")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("The flag --no-wasm-opt is skipping rust-optimizer for faster development iteration. For mainnet deployment, use:")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("beaker wasm deploy counter --signer-account "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ACCOUNT"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" --raw "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{ \"count\": 0 }'")]),t._v(" --network mainnet\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Instantiate message can be stored for later use:")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" contracts/counter/instantiate-msgs\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{ \"count\": 0 }'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" contracts/counter/instantiate-msgs/default.json\nbeaker wasm deploy counter --signer-account test1 --no-wasm-opt\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h3",{attrs:{id:"console"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#console"}},[t._v("#")]),t._v(" Console")]),t._v(" "),a("p",[t._v("After deployed, you can play with the deployed contract using:")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("beaker console\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("This will launch custom node repl, where contract, account are available. contract contains deployed contract. account contains pre-defined accounts in localosmosis.")]),t._v(" "),a("p",[t._v("So you can interact with the recently deployed contract like this:")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("await contract.counter.execute"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"increment"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".by"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("account.test1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nawait contract.counter.query"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"get_count"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("You can remove contract and/or account namespace by changing config.")]),t._v(" "),a("h3",{attrs:{id:"beaker-toml"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#beaker-toml"}},[t._v("#")]),t._v(" Beaker.toml")]),t._v(" "),a("p",[t._v('[console]\naccount_namespace = false\ncontract_namespace = false\nawait counter.execute({ "increment": {}}).by(test1)\nawait counter.query({ "get_count": {}})')]),t._v(" "),a("p",[t._v("Beaker console is also allowed to deploy contract, so that you don't another terminal tab to do so.")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v(".deploy counter -- --signer-account test1 --raw "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{ \"count\": 999 }'")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h3",{attrs:{id:"frontend"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#frontend"}},[t._v("#")]),t._v(" Frontend")]),t._v(" "),a("p",[t._v("Beaker project template also come with frontend template.")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" frontend\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" dev\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("Then open http://localhost:3000/ in the browser.")]),t._v(" "),a("p",[t._v("Note: to interact, you need to add LocalOsmosis to keplr.")])])}),[],!1,null,null,null);s.default=n.exports}}]);