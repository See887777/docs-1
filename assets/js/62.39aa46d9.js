(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{508:function(e,s,t){"use strict";t.r(s);var a=t(8),o=Object(a.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"localosmosis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#localosmosis"}},[e._v("#")]),e._v(" LocalOsmosis")]),e._v(" "),t("h2",{attrs:{id:"what-is-localosmosis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-is-localosmosis"}},[e._v("#")]),e._v(" What is LocalOsmosis?")]),e._v(" "),t("p",[e._v("LocalOsmosis (a fork of LocalTerra) is a complete Osmosis testnet and ecosystem containerized with Docker and orchestrated with a simple "),t("code",[e._v("docker-compose")]),e._v(" file. It simplifies the way smart-contract developers test their contracts in a sandbox before they deploy them on a testnet or mainnet.")]),e._v(" "),t("p",[e._v("LocalOsmosis comes preconfigured with opinionated, sensible defaults for standard testing environments. If other projects mention testing on LocalOsmosis, they are referring to the settings defined in this repo.")]),e._v(" "),t("p",[e._v("LocalOsmosis has the following advantages over a public testnet:")]),e._v(" "),t("ul",[t("li",[e._v("Easily modifiable world states")]),e._v(" "),t("li",[e._v("Quick to reset for rapid iterations")]),e._v(" "),t("li",[e._v("Simple simulations of different scenarios")]),e._v(" "),t("li",[e._v("Controllable validator behavior")])]),e._v(" "),t("h2",{attrs:{id:"prerequisites"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[e._v("#")]),e._v(" Prerequisites")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://www.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("Docker")]),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/docker/compose",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("docker-compose")]),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://get.osmosis.zone",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("Osmosisd")]),t("OutboundLink")],1),e._v(" "),t("ul",[t("li",[e._v("Select option 3 (localosmosis), the installer will configure everything for you.")]),e._v(" "),t("li",[e._v("The osmosisd dameon on your local computer is used to communicate with the localosmosis daemin running inside the Docker container.")])])]),e._v(" "),t("li",[e._v("Supported known architecture: x86_64")]),e._v(" "),t("li",[e._v("16+ GB of RAM is recommended")])]),e._v(" "),t("h2",{attrs:{id:"install-localosmosis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install-localosmosis"}},[e._v("#")]),e._v(" Install LocalOsmosis")]),e._v(" "),t("ol",[t("li",[e._v("Run the following commands::")])]),e._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone https://github.com/czarcas7ic/LocalOsmosis.git\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" LocalOsmosis\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[e._v("Make sure your Docker daemon is running in the background and "),t("a",{attrs:{href:"https://github.com/docker/compose",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("docker-compose")]),t("OutboundLink")],1),e._v(" is installed.")])]),e._v(" "),t("h2",{attrs:{id:"start-stop-and-reset-localosmosis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#start-stop-and-reset-localosmosis"}},[e._v("#")]),e._v(" Start, stop, and reset LocalOsmosis")]),e._v(" "),t("ul",[t("li",[e._v("Start LocalOsmosis:")])]),e._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("docker-compose up\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("Your environment now contains:")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"http://github.com/osmosis-labs/osmosis",target:"_blank",rel:"noopener noreferrer"}},[e._v("osmosisd"),t("OutboundLink")],1),e._v(" RPC node running on "),t("code",[e._v("tcp://localhost:26657")])]),e._v(" "),t("li",[e._v("LCD running on http://localhost:1317")])]),e._v(" "),t("p",[e._v("Stop LocalOsmosis:")]),e._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("$ docker-compose stop\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("Reset the world state:")]),e._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("$ docker-compose "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("rm")]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("h2",{attrs:{id:"integrations"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#integrations"}},[e._v("#")]),e._v(" Integrations")]),e._v(" "),t("h3",{attrs:{id:"osmosisd"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#osmosisd"}},[e._v("#")]),e._v(" osmosisd")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("Ensure the same version of "),t("code",[e._v("osmosisd")]),e._v(" is present in your local computer and LocalOsmosis Docker container. You can check the version of localosmosis by checking the image in the docker-compose.yml file and the version of your osmosisd on your local machine with "),t("code",[e._v("osmosisd version")])])]),e._v(" "),t("li",[t("p",[e._v("Use "),t("code",[e._v("osmosisd")]),e._v(" from your local machine to talk to your LocalOsmosis "),t("code",[e._v("osmosisd")]),e._v(" node:")])])]),e._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("osmosisd status\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("This command automatically works because "),t("code",[e._v("osmosisd")]),e._v(" connects to "),t("code",[e._v("localhost:26657")]),e._v(" by default.")]),e._v(" "),t("p",[e._v("The following command is the explicit form:")]),e._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("osmosisd status --node"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("tcp://localhost:26657\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("ol",{attrs:{start:"3"}},[t("li",[e._v("Run any of the "),t("code",[e._v("osmosisd")]),e._v(" commands against your LocalOsmosis network, as shown in the following example:")])]),e._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("osmosisd query account osmo1l0jjmvdtj4c3f8cxzzgfhq0zhdzf2x8cgpg056\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("h2",{attrs:{id:"configure-localosmosis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configure-localosmosis"}},[e._v("#")]),e._v(" Configure LocalOsmosis")]),e._v(" "),t("p",[e._v("The majority of LocalOsmosis is implemented through a "),t("code",[e._v("docker-compose.yml")]),e._v(" file, making it easily customizable. You can use LocalOsmosis as a starting template point for setting up your own local Osmosis testnet with Docker containers.")]),e._v(" "),t("p",[e._v("Out of the box, LocalOsmosis comes preconfigured with opinionated settings such as:")]),e._v(" "),t("ul",[t("li",[e._v("ports defined for RPC (26657) and LCD (1317)")]),e._v(" "),t("li",[e._v("standard "),t("a",{attrs:{href:"#accounts"}},[e._v("accounts")])])]),e._v(" "),t("h3",{attrs:{id:"modifying-node-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#modifying-node-configuration"}},[e._v("#")]),e._v(" Modifying node configuration")]),e._v(" "),t("p",[e._v("You can modify the node configuration of your validator in the "),t("code",[e._v("config/config.toml")]),e._v(" and "),t("code",[e._v("config/app.toml")]),e._v(" files.")]),e._v(" "),t("h4",{attrs:{id:"pro-tip-speed-up-block-time"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pro-tip-speed-up-block-time"}},[e._v("#")]),e._v(" Pro tip: Speed Up Block Time")]),e._v(" "),t("p",[e._v("To decrease block time, edit the "),t("code",[e._v("[consensus]")]),e._v(" parameters in the "),t("code",[e._v("config/config.toml")]),e._v(" file, and specify your own values.")]),e._v(" "),t("p",[e._v("The following example configures all timeouts to "),t("code",[e._v("200ms")]),e._v(":")]),e._v(" "),t("div",{staticClass:"language-diff line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-diff"}},[t("code",[e._v('##### consensus configuration options #####\n[consensus]\n\nwal_file = "data/cs.wal/wal"\n'),t("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(' timeout_propose = "3s"\n')]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(' timeout_propose_delta = "500ms"\n')]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(' timeout_prevote = "1s"\n')]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(' timeout_prevote_delta = "500ms"\n')]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(' timeout_precommit_delta = "500ms"\n')]),t("span",{pre:!0,attrs:{class:"token prefix deleted"}},[e._v("-")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(' timeout_commit = "5s"\n')])]),t("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(' timeout_propose = "200ms"\n')]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(' timeout_propose_delta = "200ms"\n')]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(' timeout_prevote = "200ms"\n')]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(' timeout_prevote_delta = "200ms"\n')]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(' timeout_precommit_delta = "200ms"\n')]),t("span",{pre:!0,attrs:{class:"token prefix inserted"}},[e._v("+")]),t("span",{pre:!0,attrs:{class:"token line"}},[e._v(' timeout_commit = "200ms"\n')])])])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br"),t("span",{staticClass:"line-number"},[e._v("14")]),t("br"),t("span",{staticClass:"line-number"},[e._v("15")]),t("br"),t("span",{staticClass:"line-number"},[e._v("16")]),t("br")])]),t("p",[e._v("Additionally, you can use the following single line to configure timeouts:")]),e._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sed")]),e._v(" -E -i "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'/timeout_(propose|prevote|precommit|commit)/s/[0-9]+m?s/200ms/'")]),e._v(" config/config.toml\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("h3",{attrs:{id:"modifying-genesis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#modifying-genesis"}},[e._v("#")]),e._v(" Modifying genesis")]),e._v(" "),t("p",[e._v("You can change the "),t("code",[e._v("genesis.json")]),e._v(" file by altering "),t("code",[e._v("config/genesis.json")]),e._v(". To load your changes, restart your LocalOsmosis.")]),e._v(" "),t("h2",{attrs:{id:"accounts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#accounts"}},[e._v("#")]),e._v(" Accounts")]),e._v(" "),t("p",[e._v("LocalOsmosis is pre-configured with one validator and 10 accounts with ION and OSMO balances.")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("Account")]),e._v(" "),t("th",[e._v("Address")]),e._v(" "),t("th",[e._v("Mnemonic")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("validator")]),e._v(" "),t("td",[t("code",[e._v("osmo1phaxpevm5wecex2jyaqty2a4v02qj7qmlmzk5a")]),t("br"),t("code",[e._v("osmovaloper1phaxpevm5wecex2jyaqty2a4v02qj7qm9v24r6")])]),e._v(" "),t("td",[t("code",[e._v("satisfy adjust timber high purchase tuition stool faith fine install that you unaware feed domain license impose boss human eager hat rent enjoy dawn")])])]),e._v(" "),t("tr",[t("td",[e._v("test1")]),e._v(" "),t("td",[t("code",[e._v("osmo1cyyzpxplxdzkeea7kwsydadg87357qnahakaks")])]),e._v(" "),t("td",[t("code",[e._v("notice oak worry limit wrap speak medal online prefer cluster roof addict wrist behave treat actual wasp year salad speed social layer crew genius")])])]),e._v(" "),t("tr",[t("td",[e._v("test2")]),e._v(" "),t("td",[t("code",[e._v("osmo18s5lynnmx37hq4wlrw9gdn68sg2uxp5rgk26vv")])]),e._v(" "),t("td",[t("code",[e._v("quality vacuum heart guard buzz spike sight swarm shove special gym robust assume sudden deposit grid alcohol choice devote leader tilt noodle tide penalty")])])]),e._v(" "),t("tr",[t("td",[e._v("test3")]),e._v(" "),t("td",[t("code",[e._v("osmo1qwexv7c6sm95lwhzn9027vyu2ccneaqad4w8ka")])]),e._v(" "),t("td",[t("code",[e._v("symbol force gallery make bulk round subway violin worry mixture penalty kingdom boring survey tool fringe patrol sausage hard admit remember broken alien absorb")])])]),e._v(" "),t("tr",[t("td",[e._v("test4")]),e._v(" "),t("td",[t("code",[e._v("osmo14hcxlnwlqtq75ttaxf674vk6mafspg8xwgnn53")])]),e._v(" "),t("td",[t("code",[e._v("bounce success option birth apple portion aunt rural episode solution hockey pencil lend session cause hedgehog slender journey system canvas decorate razor catch empty")])])]),e._v(" "),t("tr",[t("td",[e._v("test5")]),e._v(" "),t("td",[t("code",[e._v("osmo12rr534cer5c0vj53eq4y32lcwguyy7nndt0u2t")])]),e._v(" "),t("td",[t("code",[e._v("second render cat sing soup reward cluster island bench diet lumber grocery repeat balcony perfect diesel stumble piano distance caught occur example ozone loyal")])])]),e._v(" "),t("tr",[t("td",[e._v("test6")]),e._v(" "),t("td",[t("code",[e._v("osmo1nt33cjd5auzh36syym6azgc8tve0jlvklnq7jq")])]),e._v(" "),t("td",[t("code",[e._v("spatial forest elevator battle also spoon fun skirt flight initial nasty transfer glory palm drama gossip remove fan joke shove label dune debate quick")])])]),e._v(" "),t("tr",[t("td",[e._v("test7")]),e._v(" "),t("td",[t("code",[e._v("osmo10qfrpash5g2vk3hppvu45x0g860czur8ff5yx0")])]),e._v(" "),t("td",[t("code",[e._v("noble width taxi input there patrol clown public spell aunt wish punch moment will misery eight excess arena pen turtle minimum grain vague inmate")])])]),e._v(" "),t("tr",[t("td",[e._v("test8")]),e._v(" "),t("td",[t("code",[e._v("osmo1f4tvsdukfwh6s9swrc24gkuz23tp8pd3e9r5fa")])]),e._v(" "),t("td",[t("code",[e._v("cream sport mango believe inhale text fish rely elegant below earth april wall rug ritual blossom cherry detail length blind digital proof identify ride")])])]),e._v(" "),t("tr",[t("td",[e._v("test9")]),e._v(" "),t("td",[t("code",[e._v("osmo1myv43sqgnj5sm4zl98ftl45af9cfzk7nhjxjqh")])]),e._v(" "),t("td",[t("code",[e._v("index light average senior silent limit usual local involve delay update rack cause inmate wall render magnet common feature laundry exact casual resource hundred")])])]),e._v(" "),t("tr",[t("td",[e._v("test10")]),e._v(" "),t("td",[t("code",[e._v("osmo14gs9zqh8m49yy9kscjqu9h72exyf295afg6kgk")])]),e._v(" "),t("td",[t("code",[e._v("prefer forget visit mistake mixture feel eyebrow autumn shop pair address airport diesel street pass vague innocent poem method awful require hurry unhappy shoulder")])])])])])])}),[],!1,null,null,null);s.default=o.exports}}]);