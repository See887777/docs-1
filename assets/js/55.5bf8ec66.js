(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{502:function(s,a,t){"use strict";t.r(a);var e=t(8),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"pool-incentives"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pool-incentives"}},[s._v("#")]),s._v(" Pool Incentives")]),s._v(" "),t("p",[s._v("The "),t("code",[s._v("pool-incentives")]),s._v(" module is separate but related to the "),t("code",[s._v("incentives")]),s._v(" module. When a pool is created using the "),t("code",[s._v("GAMM")]),s._v(" module, the "),t("code",[s._v("pool-incentives")]),s._v(" module automatically creates individual gauges in the "),t("code",[s._v("incentives")]),s._v(" module for every lock duration that exists in that pool. The "),t("code",[s._v("pool-incentives")]),s._v(" module also takes takes the "),t("code",[s._v("pool_incentives")]),s._v(" distributed from the "),t("code",[s._v("gov")]),s._v(" module and distributes it to the various incentivized gauges.")]),s._v(" "),t("h2",{attrs:{id:"abstract"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#abstract"}},[s._v("#")]),s._v(" Abstract")]),s._v(" "),t("p",[s._v("The "),t("code",[s._v("pool-incentives")]),s._v(" module is separate but related to the "),t("code",[s._v("incentives")]),s._v(" module. When a pool is created using the "),t("code",[s._v("GAMM")]),s._v(" module, the "),t("code",[s._v("pool-incentives")]),s._v(" module automatically creates individual gauges in the "),t("code",[s._v("incentives")]),s._v(" module for every lock duration that exists in that pool. The "),t("code",[s._v("pool-incentives")]),s._v(" module also takes takes the "),t("code",[s._v("pool_incentives")]),s._v(" distributed from the "),t("code",[s._v("gov")]),s._v(" module and distributes it to the various incentivized gauges.")]),s._v(" "),t("h2",{attrs:{id:"contents"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#contents"}},[s._v("#")]),s._v(" Contents")]),s._v(" "),t("ol",[t("li",[t("strong",[t("a",{attrs:{href:"#concepts"}},[s._v("Concept")])])]),s._v(" "),t("li",[t("strong",[t("a",{attrs:{href:"#state"}},[s._v("State")])])]),s._v(" "),t("li",[t("strong",[t("a",{attrs:{href:"#gov"}},[s._v("Governance")])])]),s._v(" "),t("li",[t("strong",[t("a",{attrs:{href:"#transactions"}},[s._v("Transactions")])])]),s._v(" "),t("li",[t("strong",[t("a",{attrs:{href:"#queries"}},[s._v("Queries")])])])]),s._v(" "),t("h2",{attrs:{id:"concepts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#concepts"}},[s._v("#")]),s._v(" Concepts")]),s._v(" "),t("p",[s._v("The purpose of the "),t("code",[s._v("pool incentives")]),s._v(" module is to distribute incentives\nto a pool's LPs. This assumes that pool's follow the interface from the\n"),t("code",[s._v("x/gamm")]),s._v(" module")]),s._v(" "),t("p",[t("code",[s._v("Pool incentives")]),s._v(" module doesn't directly distribute the rewards to the\nLPs. When a pool is created, the "),t("code",[s._v("pool incentives")]),s._v(" module creates a\n"),t("code",[s._v("gauge")]),s._v(" in the "),t("code",[s._v("incentives")]),s._v(" module for every lock duration that exists.\nAlso, the "),t("code",[s._v("pool incentives")]),s._v(" module takes a part of the minted inflation\nfrom the mint module, and automatically distributes it to the various\nselected gauges.")]),s._v(" "),t("h2",{attrs:{id:"state"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#state"}},[s._v("#")]),s._v(" State")]),s._v(" "),t("h4",{attrs:{id:"genesis-states"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#genesis-states"}},[s._v("#")]),s._v(" Genesis states")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),s._v(" GenesisState "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("struct")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// params defines all the paramaters of the module.")]),s._v("\n Params            Params          \n LockableDurations "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("time"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Duration \n DistrInfo         "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("DistrInfo      \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),s._v(" Params "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("struct")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// minted_denom is the denomination of the coin expected to be minted")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  by the minting module.")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Pool-incentives module doesnâ€™t actually mint the coin itself, ")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// but rather manages the distribution of coins that matches the defined minted_denom.")]),s._v("\n MintedDenom "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),s._v(" \n "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// allocation_ratio defines the proportion of the minted minted_denom ")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// that is to be allocated as pool incentives.")]),s._v("\n AllocationRatio github_com_cosmos_cosmos_sdk_types"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Dec \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("p",[s._v("Lockable durations can be set to the pool incentives module at genesis.\nEvery time a pool is created, the "),t("code",[s._v("pool incentives")]),s._v(" module creates the\nsame amount of 'gauge' as there are lockable durations for the pool.")]),s._v(" "),t("p",[s._v("Also in regards to the "),t("code",[s._v("Params")]),s._v(", when the mint module mints new tokens\nto the fee collector at Begin Block, the "),t("code",[s._v("pool incentives")]),s._v(" module takes\nthe token which matches the 'minted denom' from the fee collector.\nTokens are taken according to the 'allocationRatio', and are distributed\nto each "),t("code",[s._v("DistrRecord")]),s._v(" of the DistrInfo. For example, if the fee\ncollector holds 1000uatom and 2000 uosmo at Begin Block, and Params'\nmintedDenom is set to uosmo, and AllocationRatio is set to 0.1, 200uosmo\nwill be taken from the fee collector and distributed to the\n"),t("code",[s._v("DistrRecord")]),s._v("s.")]),s._v(" "),t("h2",{attrs:{id:"gov"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gov"}},[s._v("#")]),s._v(" Gov")]),s._v(" "),t("p",[t("code",[s._v("Pool Incentives")]),s._v(" module uses the values set at genesis or values added\nby chain governance to distribute part of the inflation minted by the\nmint module to specified gauges.")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),s._v(" DistrInfo "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("struct")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n TotalWeight github_com_cosmos_cosmos_sdk_types"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Int \n Records     "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("DistrRecord                          \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),s._v(" DistrRecord "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("struct")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n GaugeId  "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("uint64")]),s._v("                                 \n Weight github_com_cosmos_cosmos_sdk_types"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Int \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[t("code",[s._v("DistrInfo")]),s._v(" internally manages the "),t("code",[s._v("DistrRecord")]),s._v(" and total weight of all\n"),t("code",[s._v("DistrRecord")]),s._v(". Governance can modify DistrInfo via\n"),t("code",[s._v("UpdatePoolIncentivesProposal")]),s._v(" proposal.")]),s._v(" "),t("h4",{attrs:{id:"updatepoolincentivesproposal"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#updatepoolincentivesproposal"}},[s._v("#")]),s._v(" UpdatePoolIncentivesProposal")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),s._v(" UpdatePoolIncentivesProposal "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("struct")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n Title       "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),s._v("       \n Description "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),s._v("      \n Records     "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("DistrRecord \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[t("code",[s._v("UpdatePoolIncentivesProposal")]),s._v(" can be used by governance to update\n"),t("code",[s._v("DistrRecord")]),s._v("s.")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("osmosisd tx gov submit-proposal update-pool-incentives "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gaugeIds"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("weights"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("Proposals can be proposed in using the CLI command format above."),t("br"),s._v("\nFor example, to designate 100 weight to gauge id 2 and 200 weight to\ngauge id 3, the following command can be used.")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("osmosisd tx gov submit-proposal update-pool-incentives "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2,3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100,200")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"transactions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#transactions"}},[s._v("#")]),s._v(" Transactions")]),s._v(" "),t("h3",{attrs:{id:"replace-pool-incentives"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#replace-pool-incentives"}},[s._v("#")]),s._v(" replace-pool-incentives")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("osmosisd tx poolincentives replace-pool-incentives "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gaugeIds"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("weights"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("flags"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("Example")]),s._v(" "),t("p",[s._v("Fully replace records for pool incentives:")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("osmosisd tx poolincentives replace-pool-incentives proposal.json --from --chain-id\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("The proposal.json would look as follows:")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"title"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Pool Incentive Adjustment"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"description"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Adjust pool incentives"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"records"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"gauge_id"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"weight"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"100000"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"gauge_id"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"weight"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1766249"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"gauge_id"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"XXX"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"weight"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"XXXXXXXX"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    ...\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br")])])]),s._v(" "),t("h3",{attrs:{id:"update-pool-incentives"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#update-pool-incentives"}},[s._v("#")]),s._v(" update-pool-incentives")]),s._v(" "),t("p",[s._v("Update the weight of specified pool gauges in regards to their share of incentives (by creating a proposal)")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("osmosisd tx poolincentives update-pool-incentives "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("gaugeIds"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("weights"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("flags"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" --from --chain-id\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("Example")]),s._v(" "),t("p",[s._v("Update the pool incentives for "),t("code",[s._v("gauge_id")]),s._v(" 0 and 1:")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("osmosisd tx gov submit-proposal update-pool-incentives proposal.json --from WALLET_NAME --chain-id CHAIN_ID\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("The proposal.json would look as follows:")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"title"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Pool Incentive Adjustment"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"description"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Adjust pool incentives"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"records"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"gauge_id"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"weight"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"100000"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"gauge_id"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"weight"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1766249"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])])]),s._v(" "),t("h2",{attrs:{id:"queries"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#queries"}},[s._v("#")]),s._v(" Queries")]),s._v(" "),t("h3",{attrs:{id:"distr-info"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#distr-info"}},[s._v("#")]),s._v(" distr-info")]),s._v(" "),t("p",[s._v("Query distribution info for all pool gauges")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("osmosisd query poolincentives distr-info\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("Example")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("osmosisd query poolincentives distr-info\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("An example output:")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('  - gauge_id: "1877"\n    weight: "60707"\n  - gauge_id: "1878"\n    weight: "40471"\n  - gauge_id: "1897"\n    weight: "1448"\n  - gauge_id: "1898"\n    weight: "869"\n  - gauge_id: "1899"\n    weight: "579"\n...\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])])]),s._v(" "),t("h3",{attrs:{id:"external-incentivized-gauges"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#external-incentivized-gauges"}},[s._v("#")]),s._v(" external-incentivized-gauges")]),s._v(" "),t("p",[s._v("Query externally incentivized gauges (gauges distributing rewards on top of the normal OSMO rewards)")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("osmosisd query pool-incentives external-incentivized-gauges\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("Example")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("osmosisd query pool-incentives external-incentivized-gauges\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("An example output:")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('- coins:\n  - amount: "596400000"\n    denom: ibc/0EF15DF2F02480ADE0BB6E85D9EBB5DAEA2836D3860E9F97F9AADE4F57A31AA0\n  distribute_to:\n    denom: gamm/pool/562\n    duration: 604800s\n    lock_query_type: ByDuration\n    timestamp: "1970-01-01T00:00:00Z"\n  distributed_coins:\n  - amount: "596398318"\n    denom: ibc/0EF15DF2F02480ADE0BB6E85D9EBB5DAEA2836D3860E9F97F9AADE4F57A31AA0\n  filled_epochs: "28"\n  id: "1791"\n  is_perpetual: false\n  num_epochs_paid_over: "28"\n  start_time: "1970-01-01T00:00:00Z"\n- coins:\n  - amount: "1000000"\n    denom: ibc/46B44899322F3CD854D2D46DEEF881958467CDD4B3B10086DA49296BBED94BED\n  distribute_to:\n    denom: gamm/pool/498\n    duration: 86400s\n    lock_query_type: ByDuration\n    timestamp: "1970-01-01T00:00:00Z"\n  distributed_coins:\n  - amount: "999210"\n    denom: ibc/46B44899322F3CD854D2D46DEEF881958467CDD4B3B10086DA49296BBED94BED\n  filled_epochs: "2"\n  id: "1660"\n  is_perpetual: false\n  num_epochs_paid_over: "2"\n  start_time: "2021-10-14T16:00:00Z"\n...\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br")])])]),s._v(" "),t("h3",{attrs:{id:"gauge-ids"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gauge-ids"}},[s._v("#")]),s._v(" gauge-ids")]),s._v(" "),t("p",[s._v("Query the gauge ids (by duration) by pool id")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("osmosisd query poolincentives gauge-ids "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("pool-id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("flags"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("Example")]),s._v(" "),t("p",[s._v("Find out what the gauge IDs are for pool 1:")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("osmosisd query poolincentives gauge-ids "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("An example output:")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('gauge_ids_with_duration:\n- duration: 86400s\n  gauge_id: "1"\n- duration: 604800s\n  gauge_id: "2"\n- duration: 1209600s\n  gauge_id: "3"\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("In this example, we see that gauge IDs 1,2, and 3 are for the one day, one week, and two week lockup periods respectively for the OSMO/ATOM pool.")])]),s._v(" "),t("h3",{attrs:{id:"incentivized-pools"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#incentivized-pools"}},[s._v("#")]),s._v(" incentivized-pools")]),s._v(" "),t("p",[s._v("Query all incentivized pools with their respective gauge IDs and lockup durations")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("osmosisd query poolincentives incentivized-pools "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("flags"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("Example")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("osmosisd query poolincentives incentivized-pools\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("An example output:")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('- gauge_id: "1897"\n  lockable_duration: 86400s\n  pool_id: "602"\n- gauge_id: "1898"\n  lockable_duration: 604800s\n  pool_id: "602"\n- gauge_id: "1899"\n  lockable_duration: 1209600s\n  pool_id: "602"\n...\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])])]),s._v(" "),t("h3",{attrs:{id:"lockable-durations"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#lockable-durations"}},[s._v("#")]),s._v(" lockable-durations")]),s._v(" "),t("p",[s._v("Query incentivized lockup durations")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("osmosisd query poolincentives lockable-durations "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("flags"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("Example")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("osmosisd query poolincentives lockable-durations\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("An example output:")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("lockable_durations:\n- 86400s\n- 604800s\n- 1209600s\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])])]),s._v(" "),t("h3",{attrs:{id:"params"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#params"}},[s._v("#")]),s._v(" params")]),s._v(" "),t("p",[s._v("Query pool-incentives module parameters")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("osmosisd query poolincentives params "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("flags"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("Example")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("osmosisd query poolincentives params\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("An example output:")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("params:\n  minted_denom: uosmo\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);