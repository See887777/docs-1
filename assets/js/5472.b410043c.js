"use strict";(self.webpackChunkosmosis_docs=self.webpackChunkosmosis_docs||[]).push([[5472],{25472:(e,i,t)=>{t.r(i),t.d(i,{dyte_plugin_main:()=>a});var r=t(94196),n=t(7147),o=t(76851);const a=class{constructor(e){(0,r.r)(this,e),this.iconPack=n.d,this.canClosePlugin=!1,this.canControl=!0}componentDidLoad(){this.meetingChanged(this.meeting),this.pluginChanged(this.plugin)}meetingChanged(e){var i;if(null!=e){const t=e.self.permissions;if(!(0,o.a)(t)&&void 0!==t.plugins.config){Object.keys(t.plugins.config||{}).forEach((e=>{t.plugins.config[e.toLowerCase()]=t.plugins.config[e]}));const r=this.plugin.id.replace(new RegExp("-","g"),""),n="whitelist"===((null===(i=t.plugins.config[r])||void 0===i?void 0:i.defaultAccess)||"blacklist");this.plugin.enabledBy===e.self.userId||t.plugins.canEditAcl?this.canControl=!0:n&&(this.canControl=!1)}(0,r.w)((()=>{this.canClosePlugin=e.self.permissions.plugins.canClose}))}}pluginChanged(e){null!=e&&e.addPluginView(this.iframeEl)}render(){return null==this.plugin?null:(0,r.h)(r.H,null,(0,r.h)("header",{part:"header"},(0,r.h)("div",null,this.plugin.name),this.canClosePlugin&&(0,r.h)("div",null,(0,r.h)("dyte-button",{kind:"icon",onClick:()=>this.plugin.deactivate(),part:"button"},(0,r.h)("dyte-icon",{icon:this.iconPack.dismiss})))),(0,r.h)("div",{class:"iframe-container"},!this.canControl&&(0,r.h)("div",{class:"block-inputs"}),(0,r.h)("iframe",{ref:e=>this.iframeEl=e,part:"iframe"})))}static get watchers(){return{meeting:["meetingChanged"],plugin:["pluginChanged"]}}};a.style=":host{display:flex;height:100%;width:100%;flex-direction:column;overflow:hidden;border-radius:var(--dyte-border-radius-lg, 12px);font-family:var(--dyte-font-family, sans-serif);color:rgb(var(--dyte-colors-text-1000, 255 255 255))}header{display:flex;height:var(--dyte-space-8, 32px);align-items:center;justify-content:space-between;padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity))}header>div{display:flex;align-items:center}dyte-button{display:flex;height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px);flex-direction:column;align-items:center;border-radius:9999px}dyte-button dyte-icon{height:var(--dyte-space-3, 12px);width:var(--dyte-space-3, 12px)}iframe{display:block;flex:1 1 0%;margin:var(--dyte-space-0, 0px);border-width:var(--dyte-border-width-none, 0);border-style:none;padding:var(--dyte-space-0, 0px);outline:2px solid transparent;outline-offset:2px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-video-bg, 24 24 24) / var(--tw-bg-opacity))}.iframe-container{position:relative;height:100%;width:100%}.block-inputs{position:absolute;z-index:10;height:100%;width:100%;border-left-width:var(--dyte-border-width-none, 0);border-top-width:var(--dyte-border-width-lg, 4px);border-style:solid;--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-border-opacity))}iframe{height:100%;width:100%}"},76851:(e,i,t)=>{t.d(i,{P:()=>o,a:()=>r,c:()=>a,i:()=>n});const r=e=>"requestProduceVideo"in e,n=e=>!("controlBar"in e);var o;!function(e){e[e.Video=0]="Video",e[e.Audio=1]="Audio",e[e.ScreenShare=2]="ScreenShare"}(o||(o={}));const a=(e,i)=>{switch(e){case o.Video:return"ALLOWED"===(r(i)?i.produceVideo:i.produceVideo.allow);case o.Audio:return"ALLOWED"===(r(i),i.produceAudio);case o.ScreenShare:return"ALLOWED"===(r(i)?i.produceScreenshare:i.produceScreenshare.allow)}}}}]);