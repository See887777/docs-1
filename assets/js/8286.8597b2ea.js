"use strict";(self.webpackChunkosmosis_docs=self.webpackChunkosmosis_docs||[]).push([[8286],{8286:(t,e,i)=>{i.r(e),i.d(e,{dyte_recording_toggle:()=>c});var r=i(94196),n=i(7147),s=i(61070);i(55752);const c=class{constructor(t){(0,r.r)(this,t),this.variant="button",this.t=(0,s.u)(),this.iconPack=n.d,this.canRecord=!1,this.toggleRecording=()=>{var t,e;if(!this.isLoading())switch(this.recordingState){case"IDLE":return void(null===(t=this.meeting)||void 0===t||t.recording.start());case"RECORDING":return void(null===(e=this.meeting)||void 0===e||e.recording.stop());default:return}},this.isLoading=()=>null==this.meeting||"STARTING"===this.recordingState||"STOPPING"===this.recordingState}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){var t;this.recordingStateUpdateListener&&(null===(t=this.meeting)||void 0===t||t.recording.removeListener("recordingUpdate",this.recordingStateUpdateListener))}meetingChanged(t){null!=t&&(this.recordingState=t.recording.recordingState,this.canRecord=!0===t.self.permissions.canRecord,this.recordingStateUpdateListener=t=>{this.recordingState=t},t.recording.addListener("recordingUpdate",this.recordingStateUpdateListener))}getLabel(){switch(this.recordingState){case"IDLE":return this.t("Record");case"RECORDING":return this.t("Stop Recording");case"STARTING":return this.t("Starting");case"STOPPING":return this.t("Stopping");default:return this.t("Loading")}}getIcon(){switch(this.recordingState){case"IDLE":case"STARTING":case"STOPPING":default:return this.iconPack.recording;case"RECORDING":return this.iconPack.stop_recording}}render(){if(this.canRecord)return(0,r.h)(r.H,{title:this.t("Record")},(0,r.h)("dyte-controlbar-button",{size:this.size,iconPack:this.iconPack,onClick:this.toggleRecording,icon:this.getIcon(),isLoading:this.isLoading(),label:this.t(this.getLabel()),variant:this.variant}))}static get watchers(){return{meeting:["meetingChanged"]}}};c.style=":host{display:block;font-family:var(--dyte-font-family, sans-serif)}"},61070:(t,e,i)=>{i.d(e,{g:()=>n,u:()=>s});var r=i(55752);const n=async t=>{if(null==t||"en"===t||""===t.trim())return r.d;try{const e=await fetch(`http://localhost:5000/${t}.json`);return e.ok?Object.assign({},r.d,await e.json()):r.d}catch(e){return r.d}},s=(t=r.d)=>e=>{var i;return null!==(i=t[e])&&void 0!==i?i:e}}}]);