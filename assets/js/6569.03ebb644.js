"use strict";(self.webpackChunkosmosis_docs=self.webpackChunkosmosis_docs||[]).push([[6569],{96569:(e,t,o)=>{o.r(t),o.d(t,{dyte_breakout_room_grid:()=>a});var i=o(94196),s=(o(72559),o(7147)),r=o(79781);o(41969);const a=class{constructor(e){(0,i.r)(this,e),this.stateUpdate=(0,i.c)(this,"dyteStateUpdate",7),this.iconPack=s.d,this.editBreakout=()=>{var e,t,o;this.stateUpdate.emit({activeBreakoutRoomsManager:{active:!(null===(t=null===(e=this.states)||void 0===e?void 0:e.activeBreakoutRoomsManager)||void 0===t?void 0:t.active),mode:"edit"}}),r.s.activeBreakoutRoomsManager={active:!(null===(o=r.s.activeBreakoutRoomsManager)||void 0===o?void 0:o.active)},this.meeting.connectedMeetings.stateManager.reset(),this.meeting.connectedMeetings.stateManager.init()},this.endBreakout=async()=>{var e;const t={active:!0,icon:this.iconPack.breakout_rooms,title:"Ending Breakout Rooms.",description:"It may take a few moments."};this.stateUpdate.emit({activeOverlayModal:t}),r.s.activeOverlayModal=t,await this.meeting.connectedMeetings.deleteConnectedMeetings(null===(e=this.meeting.connectedMeetings.list)||void 0===e?void 0:e.filter((e=>"ACTIVE"===e.status)).map((e=>e.id))),this.stateUpdate.emit({activeBreakoutRooms:!1,activeBreakoutRoomGrid:!1,activeOverlayModal:{active:!1}}),r.s.activeBreakoutRooms=!1,r.s.activeBreakoutRoomGrid=!1,r.s.activeOverlayModal={active:!1}},this.closeBreakoutGrid=()=>{this.stateUpdate.emit({activeBreakoutRoomGrid:!1}),r.s.activeBreakoutRoomGrid=!1}}render(){var e,t,o,s,r,a;const n=null===(e=this.meeting.self.permissions)||void 0===e?void 0:e.connectedMeetings,d=null===(o=null===(t=this.meeting.connectedMeetings)||void 0===t?void 0:t.list)||void 0===o?void 0:o.find((e=>e.id===this.meeting.meta.roomName));return(0,i.h)(i.H,null,(0,i.h)("div",{class:"header"},(0,i.h)("p",null,"Breakout Rooms Overview"),(0,i.h)("div",{class:"buttons"},n.canAlterConnectedMeetings&&(0,i.h)("dyte-button",{variant:"ghost"},(0,i.h)("div",{class:"button-row",onClick:this.editBreakout},(0,i.h)("dyte-icon",{icon:this.iconPack.edit}),"Edit Breakout")),n.canAlterConnectedMeetings&&(0,i.h)("dyte-button",{variant:"danger",onClick:this.endBreakout},"End Breakout"),(0,i.h)("dyte-button",{kind:"icon",variant:"ghost",onClick:this.closeBreakoutGrid},(0,i.h)("dyte-icon",{icon:this.iconPack.dismiss})))),(0,i.h)("div",{class:"rooms-grid"},(0,i.h)("div",null,(0,i.h)("dyte-breakout-room-tile",{meeting:this.meeting,states:this.states,room:this.meeting.connectedMeetings.parentMeeting,isParent:!0,isCurrent:(null===(s=this.meeting.connectedMeetings.parentMeeting)||void 0===s?void 0:s.id)===this.meeting.meta.roomName}),d&&(0,i.h)("dyte-breakout-room-tile",{meeting:this.meeting,states:this.states,room:d,isCurrent:!0}),null===(a=null===(r=this.meeting.connectedMeetings)||void 0===r?void 0:r.list)||void 0===a?void 0:a.map((e=>{if("ACTIVE"===e.status&&(null==d?void 0:d.id)!==e.id)return(0,i.h)("dyte-breakout-room-tile",{meeting:this.meeting,states:this.states,room:e,isParent:!1,isCurrent:(null==e?void 0:e.id)===this.meeting.meta.roomName})})))))}};a.style=":host{display:flex;width:100%;flex-grow:1;flex-direction:column;margin-left:var(--dyte-space-4, 16px);margin-right:var(--dyte-space-4, 16px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));padding:var(--dyte-space-4, 16px);height:100%}.header{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.header p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:500;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}h2{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px);font-size:16px;color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}.buttons{display:flex;flex-direction:row;align-items:center}.buttons dyte-button{margin-left:var(--dyte-space-2, 8px)}.buttons dyte-button:nth-child(1){--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity))}.buttons .button-row{display:flex;flex-direction:row;align-items:center}.buttons .button-row dyte-icon{margin-right:var(--dyte-space-1, 4px);height:var(--dyte-space-4, 16px)}.rooms-grid{margin-top:var(--dyte-space-4, 16px);margin-bottom:var(--dyte-space-2, 8px);flex-grow:1;overflow:hidden}.rooms-grid div{display:grid;grid-template-columns:repeat(3, minmax(0, 1fr));overflow-y:scroll;height:94%;grid-gap:16px}.rooms-grid::-webkit-scrollbar{width:var(--dyte-space-1\\.5, 6px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}.rooms-grid::-webkit-scrollbar-thumb{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}"},79781:(e,t,o)=>{o.d(t,{o:()=>d,s:()=>n});var i=o(94196);const s=e=>!("isConnected"in e)||e.isConnected,r=((e,t)=>{let o;return(...i)=>{o&&clearTimeout(o),o=setTimeout((()=>{o=0,e(...i)}),t)}})((e=>{for(let t of e.keys())e.set(t,e.get(t).filter(s))}),2e3),a=(e,t)=>{const o=e.indexOf(t);o>=0&&(e[o]=e[e.length-1],e.length--)},{state:n,onChange:d}=((e,t)=>{const o=((e,t=((e,t)=>e!==t))=>{let o=new Map(Object.entries(null!=e?e:{}));const i={dispose:[],get:[],set:[],reset:[]},s=()=>{o=new Map(Object.entries(null!=e?e:{})),i.reset.forEach((e=>e()))},r=e=>(i.get.forEach((t=>t(e))),o.get(e)),n=(e,s)=>{const r=o.get(e);t(s,r,e)&&(o.set(e,s),i.set.forEach((t=>t(e,s,r))))},d="undefined"==typeof Proxy?{}:new Proxy(e,{get:(e,t)=>r(t),ownKeys:e=>Array.from(o.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,t)=>o.has(t),set:(e,t,o)=>(n(t,o),!0)}),c=(e,t)=>(i[e].push(t),()=>{a(i[e],t)});return{state:d,get:r,set:n,on:c,onChange:(t,o)=>{const i=c("set",((e,i)=>{e===t&&o(i)})),s=c("reset",(()=>o(e[t])));return()=>{i(),s()}},use:(...e)=>{const t=e.reduce(((e,t)=>(t.set&&e.push(c("set",t.set)),t.get&&e.push(c("get",t.get)),t.reset&&e.push(c("reset",t.reset)),t.dispose&&e.push(c("dispose",t.dispose)),e)),[]);return()=>t.forEach((e=>e()))},dispose:()=>{i.dispose.forEach((e=>e())),s()},reset:s,forceUpdate:e=>{const t=o.get(e);i.set.forEach((o=>o(e,t,t)))}}})(e,t);return o.use((()=>{if("function"!=typeof i.a)return{};const e=new Map;return{dispose:()=>e.clear(),get:t=>{const o=(0,i.a)();o&&((e,t,o)=>{const i=e.get(t);i?i.includes(o)||i.push(o):e.set(t,[o])})(e,t,o)},set:t=>{const o=e.get(t);o&&e.set(t,o.filter(i.f)),r(e)},reset:()=>{e.forEach((e=>e.forEach(i.f))),r(e)}}})()),o})({})}}]);