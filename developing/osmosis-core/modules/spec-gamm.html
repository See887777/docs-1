<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>GAMM | Osmosis Docs</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="stylesheet" type="text/css" href="https://cloud.typography.com/7420256/6416592/css/fonts.css">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:400,500,700&amp;display=swap">
    <link rel="icon" type="image/png" href="/img/favicondocs.png">
    <script>window.onload = function() {
        requestAnimationFrame(function() {
          if (location.hash) {
            const element = document.getElementById(location.hash.slice(1))

            if (element) {
              element.scrollIntoView()
            }
          }
        })
      }</script>
    <meta name="description" content="Osmosis - The Cosmos Interchain AMM">
    <meta property="og:image" content="/img/osmosis-tile.png">
    
    <link rel="preload" href="/assets/css/0.styles.590a6110.css" as="style"><link rel="preload" href="/assets/js/app.42af3c02.js" as="script"><link rel="preload" href="/assets/js/3.d6962d18.js" as="script"><link rel="preload" href="/assets/js/50.e437b290.js" as="script"><link rel="prefetch" href="/assets/js/10.1945bbb6.js"><link rel="prefetch" href="/assets/js/11.d3c200ea.js"><link rel="prefetch" href="/assets/js/12.e123ca65.js"><link rel="prefetch" href="/assets/js/13.077d7b42.js"><link rel="prefetch" href="/assets/js/14.2f66a5c2.js"><link rel="prefetch" href="/assets/js/15.869788f5.js"><link rel="prefetch" href="/assets/js/16.cc876432.js"><link rel="prefetch" href="/assets/js/17.634e4740.js"><link rel="prefetch" href="/assets/js/18.96d043aa.js"><link rel="prefetch" href="/assets/js/19.a64fd535.js"><link rel="prefetch" href="/assets/js/20.b210033c.js"><link rel="prefetch" href="/assets/js/21.204ab6d0.js"><link rel="prefetch" href="/assets/js/22.50d2954d.js"><link rel="prefetch" href="/assets/js/23.85a2fcc7.js"><link rel="prefetch" href="/assets/js/24.a16ae3b2.js"><link rel="prefetch" href="/assets/js/25.0314b4e0.js"><link rel="prefetch" href="/assets/js/26.2cc90529.js"><link rel="prefetch" href="/assets/js/27.1273ffcd.js"><link rel="prefetch" href="/assets/js/28.6652d041.js"><link rel="prefetch" href="/assets/js/29.5a1821ee.js"><link rel="prefetch" href="/assets/js/30.a853a619.js"><link rel="prefetch" href="/assets/js/31.4032da1a.js"><link rel="prefetch" href="/assets/js/32.91b5423d.js"><link rel="prefetch" href="/assets/js/33.951af195.js"><link rel="prefetch" href="/assets/js/34.1e9765a2.js"><link rel="prefetch" href="/assets/js/35.33545058.js"><link rel="prefetch" href="/assets/js/36.44019876.js"><link rel="prefetch" href="/assets/js/37.d57af8db.js"><link rel="prefetch" href="/assets/js/38.e6e3110d.js"><link rel="prefetch" href="/assets/js/39.ce5b7351.js"><link rel="prefetch" href="/assets/js/4.a8a8a8e7.js"><link rel="prefetch" href="/assets/js/40.ec6f279b.js"><link rel="prefetch" href="/assets/js/41.ebe30ac4.js"><link rel="prefetch" href="/assets/js/42.a7dffe46.js"><link rel="prefetch" href="/assets/js/43.24aa8f60.js"><link rel="prefetch" href="/assets/js/44.fab40a75.js"><link rel="prefetch" href="/assets/js/45.e791df5b.js"><link rel="prefetch" href="/assets/js/46.6217f704.js"><link rel="prefetch" href="/assets/js/47.1e718e66.js"><link rel="prefetch" href="/assets/js/48.fda98548.js"><link rel="prefetch" href="/assets/js/49.d25eb339.js"><link rel="prefetch" href="/assets/js/5.d830d969.js"><link rel="prefetch" href="/assets/js/51.5221bd7e.js"><link rel="prefetch" href="/assets/js/52.45ef2633.js"><link rel="prefetch" href="/assets/js/53.5955892e.js"><link rel="prefetch" href="/assets/js/54.8fd67c29.js"><link rel="prefetch" href="/assets/js/55.5bf8ec66.js"><link rel="prefetch" href="/assets/js/56.93c17e22.js"><link rel="prefetch" href="/assets/js/57.fb025a12.js"><link rel="prefetch" href="/assets/js/58.6c12c4e9.js"><link rel="prefetch" href="/assets/js/59.4dcc35bb.js"><link rel="prefetch" href="/assets/js/6.13683f30.js"><link rel="prefetch" href="/assets/js/60.2742f788.js"><link rel="prefetch" href="/assets/js/61.b42e405f.js"><link rel="prefetch" href="/assets/js/62.0369b253.js"><link rel="prefetch" href="/assets/js/63.d096902a.js"><link rel="prefetch" href="/assets/js/64.2a9b8110.js"><link rel="prefetch" href="/assets/js/65.9164633c.js"><link rel="prefetch" href="/assets/js/66.108e4cbf.js"><link rel="prefetch" href="/assets/js/67.4611a661.js"><link rel="prefetch" href="/assets/js/68.4f4f2d00.js"><link rel="prefetch" href="/assets/js/69.00784a6c.js"><link rel="prefetch" href="/assets/js/7.6a7d4249.js"><link rel="prefetch" href="/assets/js/70.c77063ed.js"><link rel="prefetch" href="/assets/js/71.134de04e.js"><link rel="prefetch" href="/assets/js/72.9771428a.js"><link rel="prefetch" href="/assets/js/73.1b80641f.js"><link rel="prefetch" href="/assets/js/74.58905ff8.js"><link rel="prefetch" href="/assets/js/75.f958f4a6.js"><link rel="prefetch" href="/assets/js/76.bd648129.js"><link rel="prefetch" href="/assets/js/77.7d1f79e1.js"><link rel="prefetch" href="/assets/js/78.5d474c92.js"><link rel="prefetch" href="/assets/js/79.da22a167.js"><link rel="prefetch" href="/assets/js/8.ca096a90.js"><link rel="prefetch" href="/assets/js/80.9f6e54a0.js"><link rel="prefetch" href="/assets/js/81.9c6da30e.js"><link rel="prefetch" href="/assets/js/82.602232c9.js"><link rel="prefetch" href="/assets/js/83.90de2ff0.js"><link rel="prefetch" href="/assets/js/84.3ad7aa7f.js"><link rel="prefetch" href="/assets/js/85.b39a7b29.js"><link rel="prefetch" href="/assets/js/86.bf46314a.js"><link rel="prefetch" href="/assets/js/87.08d17619.js"><link rel="prefetch" href="/assets/js/88.b40ad5ba.js"><link rel="prefetch" href="/assets/js/89.a1d5bb1f.js"><link rel="prefetch" href="/assets/js/9.60a2b2ee.js"><link rel="prefetch" href="/assets/js/90.e5734bba.js"><link rel="prefetch" href="/assets/js/91.b631c63b.js"><link rel="prefetch" href="/assets/js/92.50eeeeac.js"><link rel="prefetch" href="/assets/js/93.1e80b8e5.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.66930185.js">
    <link rel="stylesheet" href="/assets/css/0.styles.590a6110.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"></div> <a href="/" class="home-link router-link-active"><img src="/img/osmosis-logo-dark.svg" alt="Osmosis Docs" class="logo"> <span class="site-name can-hide">Osmosis Docs</span></a> <a href="/" class="home-link router-link-active"><img src="/img/osmosis-logo-light.svg" alt="Osmosis Docs" class="logoDark"> <span class="site-name can-hide">Osmosis Docs</span></a> <div class="links"><nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/developing/" class="nav-link router-link-active">Develop</a></div><div class="nav-item"><a href="/infra/" class="nav-link">Infra</a></div><div class="nav-item"><a href="/validators/" class="nav-link">Validate</a></div><div class="nav-item"><a href="/integrate/" class="nav-link">Integrate</a></div><div class="nav-item"><a href="https://github.com/osmosis-labs/osmosis" target="_blank" rel="noopener noreferrer" class="nav-link external"><div class="nav-icon"><img src="/img/github.svg"></div></a></div></nav> <form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form></div></header> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/developing/" class="nav-link router-link-active">Develop</a></div><div class="nav-item"><a href="/infra/" class="nav-link">Infra</a></div><div class="nav-item"><a href="/validators/" class="nav-link">Validate</a></div><div class="nav-item"><a href="/integrate/" class="nav-link">Integrate</a></div><div class="nav-item"><a href="https://github.com/osmosis-labs/osmosis" target="_blank" rel="noopener noreferrer" class="nav-link external"><div class="nav-icon"><img src="/img/github.svg"></div></a></div></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Building dApps</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Tools</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Osmosis Core</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/developing/osmosis-core/" aria-current="page" class="sidebar-link">Chain Development</a></li><li><a href="/developing/osmosis-core/build.html" class="sidebar-link">Build and Test</a></li><li><a href="/developing/osmosis-core/ide-guide.html" class="sidebar-link">Osmosis IDE Setup</a></li><li><a href="/developing/osmosis-core/performance.html" class="sidebar-link">Performance &amp; Profiling</a></li><li><a href="/developing/osmosis-core/contributing.html" class="sidebar-link">Contributing</a></li><li><a href="/developing/osmosis-core/modules/" aria-current="page" class="sidebar-link">Modules</a></li><li><a href="/developing/osmosis-core/modules/spec-epochs.html" class="sidebar-link">Epochs</a></li><li><a href="/developing/osmosis-core/modules/spec-gamm.html" aria-current="page" class="active sidebar-link">GAMM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#contents" class="sidebar-link">Contents</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#concepts" class="sidebar-link">Concepts</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#pool" class="sidebar-link">Pool</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#swap" class="sidebar-link">Swap</a></li></ul></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#weights" class="sidebar-link">Weights</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#network-parameters" class="sidebar-link">Network Parameters</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#messages" class="sidebar-link">Messages</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#msgcreatebalancerpool" class="sidebar-link">MsgCreateBalancerPool</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#msgjoinpool" class="sidebar-link">MsgJoinPool</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#msgexitpool" class="sidebar-link">MsgExitPool</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#msgswapexactamountin" class="sidebar-link">MsgSwapExactAmountIn</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#msgswapexactamountout" class="sidebar-link">MsgSwapExactAmountOut</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#msgjoinswapexternamountin" class="sidebar-link">MsgJoinSwapExternAmountIn</a></li></ul></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#transactions" class="sidebar-link">Transactions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#create-pool" class="sidebar-link">Create pool</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#join-pool" class="sidebar-link">Join pool</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#exit-pool" class="sidebar-link">Exit pool</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#join-swap-extern-amount-in" class="sidebar-link">Join-swap-extern-amount-in</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#exit-swap-extern-amount-out" class="sidebar-link">Exit-swap-extern-amount-out</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#join-swap-share-amount-out" class="sidebar-link">Join-swap-share-amount-out</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#exit-swap-share-amount-in" class="sidebar-link">Exit-swap-share-amount-in</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#swap-exact-amount-in" class="sidebar-link">Swap-exact-amount-in</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#swap-exact-amount-out" class="sidebar-link">Swap-exact-amount-out</a></li></ul></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#queries-and-transactions" class="sidebar-link">Queries and Transactions</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#queries" class="sidebar-link">Queries</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#estimate-swap-exact-amount-in" class="sidebar-link">Estimate Swap Exact Amount In</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#estimate-swap-exact-amount-out" class="sidebar-link">Estimate Swap Exact Amount Out</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#num-pools" class="sidebar-link">Num Pools</a></li></ul></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#pool-2" class="sidebar-link">Pool</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#usage-4" class="sidebar-link">Usage</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#example-3" class="sidebar-link">Example</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#pool-assets" class="sidebar-link">Pool Assets</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#pool-params" class="sidebar-link">Pool Params</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#pools" class="sidebar-link">Pools</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#total-liquidity" class="sidebar-link">Total Liquidity</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#total-share" class="sidebar-link">Total Share</a></li></ul></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#transactions-2" class="sidebar-link">Transactions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#estimate-swap-exact-amount-in-2" class="sidebar-link">Estimate-swap-exact-amount-in</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#estimate-swap-exact-amount-out-2" class="sidebar-link">Estimate-swap-exact-amount-out</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#num-pools-2" class="sidebar-link">Num-pools</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#pool-3" class="sidebar-link">Pool</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#pool-assets-2" class="sidebar-link">Pool-assets</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#pool-params-2" class="sidebar-link">Pool Params</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#pools-2" class="sidebar-link">Pools</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#spot-price-2" class="sidebar-link">Spot-price</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#total-liquidity-2" class="sidebar-link">Total-liquidity</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#total-share-2" class="sidebar-link">Total-share</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#create-pool-2" class="sidebar-link">Create Pool</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#join-pool-2" class="sidebar-link">Join Pool</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#exit-pool-2" class="sidebar-link">Exit Pool</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#join-swap-extern-amount-in-2" class="sidebar-link">Join Swap Extern Amount In</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#exit-swap-extern-amount-out-2" class="sidebar-link">Exit Swap Extern Amount Out</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#join-swap-share-amount-out-2" class="sidebar-link">Join Swap Share Amount Out</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#exit-swap-share-amount-in-2" class="sidebar-link">Exit Swap Share Amount In</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#swap-exact-amount-in-2" class="sidebar-link">Swap Exact Amount In</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#swap-exact-amount-out-2" class="sidebar-link">Swap Exact Amount Out</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#usage-17" class="sidebar-link">Usage</a></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#example-15" class="sidebar-link">Example</a></li></ul></li><li class="sidebar-sub-header"><a href="/developing/osmosis-core/modules/spec-gamm.html#other-resources" class="sidebar-link">Other resources</a></li></ul></li><li><a href="/developing/osmosis-core/modules/spec-gov.html" class="sidebar-link">Gov</a></li><li><a href="/developing/osmosis-core/modules/spec-lockup.html" class="sidebar-link">Lockup</a></li><li><a href="/developing/osmosis-core/modules/spec-mint.html" class="sidebar-link">Mint</a></li><li><a href="/developing/osmosis-core/modules/spec-incentives.html" class="sidebar-link">Incentives</a></li><li><a href="/developing/osmosis-core/modules/spec-pool-incentives.html" class="sidebar-link">Pool Incentives</a></li><li><a href="/developing/osmosis-core/modules/spec-superfluid.html" class="sidebar-link">Superfluid Staking</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Networks</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Relaying</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Asset Info</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Key Management</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Osmosis Frontend</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Guides</span> <span class="arrow right"></span></p> <!----></section></li></ul>  <div class="sidebar_footer"></div></aside> <main class="page"> <nav id="breadcrumb" class="breadcrumb-container" data-v-684968f4><a href="/" class="breadcrumb router-link-active" data-v-684968f4><span data-v-684968f4>Home</span></a><a href="/developing/" class="breadcrumb router-link-active" data-v-684968f4><span data-v-684968f4>Developing in Osmosis</span></a><a href="/developing/osmosis-core/" class="breadcrumb router-link-active" data-v-684968f4><span data-v-684968f4>Chain Development</span></a><a href="/developing/osmosis-core/modules/" class="breadcrumb router-link-active" data-v-684968f4><span data-v-684968f4>Modules</span></a><a href="/developing/osmosis-core/modules/spec-gamm.html" aria-current="page" class="breadcrumb router-link-exact-active router-link-active" data-v-684968f4><span data-v-684968f4>GAMM</span></a></nav> <div class="theme-default-content content__default"><h1 id="gamm"><a href="#gamm" class="header-anchor">#</a> GAMM</h1> <p>The <code>GAMM</code> module (<strong>G</strong>eneralized <strong>A</strong>utomated <strong>M</strong>arket <strong>M</strong>aker) provides the logic to create and interact with liquidity pools on the Osmosis DEX.</p> <h2 id="contents"><a href="#contents" class="header-anchor">#</a> Contents</h2> <ol><li><strong><a href="#concepts">Concepts</a></strong></li> <li><strong><a href="#weights">Weights</a></strong></li> <li><strong><a href="#network-parameters">Pool Parameters</a></strong></li> <li><strong><a href="#messages">Messages</a></strong></li> <li><strong><a href="#transactions">Transactions</a></strong></li> <li><strong><a href="#queries-and-transactions">Queries and Transactions</a></strong></li></ol> <h2 id="concepts"><a href="#concepts" class="header-anchor">#</a> Concepts</h2> <p>The <code>x/gamm</code> module implements an AMM using Balancer style pools with
varying amounts and weights of assets in pools.</p> <h3 id="pool"><a href="#pool" class="header-anchor">#</a> Pool</h3> <h4 id="creation-of-pool"><a href="#creation-of-pool" class="header-anchor">#</a> Creation of Pool</h4> <p>At an initial creation of the pool, a fixed amount of 100 share token is
minted in the pool and sent to the creator of the pool's account. The
pool share denom is in the format of <code>gamm/pool/{poolID}</code> and is
displayed in the format of <code>GAMM-{poolID}</code> to the user. Pool assets are
sorted in alphabetical order by default.</p> <h4 id="joining-pool"><a href="#joining-pool" class="header-anchor">#</a> Joining Pool</h4> <p>When joining a pool, a user provides the maximum amount of tokens
they're willing to deposit, while the front end takes care of the
calculation of how many share tokens the user is eligible for at the
specific moment of sending the transaction.</p> <p>Calculation of exactly how many tokens are needed to get the designated
share is done at the moment of processing the transaction, validating
that it does not exceed the maximum amount of tokens the user is willing
to deposit. After the validation, GAMM share tokens of the pool are
minted and sent to the user's account. Joining the pool using a single
asset is also possible.</p> <h4 id="exiting-pool"><a href="#exiting-pool" class="header-anchor">#</a> Exiting Pool</h4> <p>When exiting a pool, the user provides the minimum amount of tokens they
are willing to receive as they are returning their shares of the pool.
However, unlike joining a pool, exiting a pool requires the user to pay
the exit fee, which is set as a param of the pool. The user's share
tokens burnt as result. Exiting the pool using a single asset is also
possible.</p> <p><a href="https://github.com/osmosis-labs/osmosis/blob/main/x/gamm/keeper/pool_service.go" target="_blank" rel="noopener noreferrer">Exiting pool<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="swap"><a href="#swap" class="header-anchor">#</a> Swap</h3> <p>During the process of swapping a specific asset, the token the user is
putting into the pool is denoted as <code>tokenIn</code>, while the token that
would be returned to the user, the asset that is being swapped for,
after the swap is denoted as <code>tokenOut</code> throughout the module.</p> <p>Given a <code>tokenIn</code>, the following calculations are done to calculate how
many tokens are to be swapped into and removed from the pool:</p> <p><code>tokenBalanceOut * [1 - { tokenBalanceIn / (tokenBalanceIn + (1 - swapFee) * tokenAmountIn)} ^ (tokenWeightIn / tokenWeightOut)]</code></p> <p>The calculation is also able to be reversed, the case where user
provides <code>tokenOut</code>. The calculation for the amount of tokens that the
user should be putting in is done through the following formula:</p> <p><code>tokenBalanceIn * [{tokenBalanceOut / (tokenBalanceOut - tokenAmountOut)} ^ (tokenWeightOut / tokenWeightIn) -1] / tokenAmountIn</code></p> <h4 id="spot-price"><a href="#spot-price" class="header-anchor">#</a> Spot Price</h4> <p>Meanwhile, calculation of the spot price with a swap fee is done using
the following formula:</p> <p><code>spotPrice / (1 - swapFee)</code>, where <code>spotPrice</code> is defined as:</p> <p><code>(tokenBalanceIn / tokenWeightIn) / (tokenBalanceOut / tokenWeightOut)</code></p> <p><a href="https://github.com/osmosis-labs/osmosis/blob/main/x/gamm/keeper/swap.go" target="_blank" rel="noopener noreferrer">Spot price<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="multi-hop"><a href="#multi-hop" class="header-anchor">#</a> Multi-Hop</h4> <p>All tokens are swapped using a multi-hop mechanism. That is, all swaps
are routed via the most cost-efficient way, swapping in and out from
multiple pools in the process.</p> <p><a href="https://github.com/osmosis-labs/osmosis/blob/main/x/gamm/keeper/multihop.go" target="_blank" rel="noopener noreferrer">Multi-Hop<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="weights"><a href="#weights" class="header-anchor">#</a> Weights</h2> <p>Weights refer to the how we weight the reserves of assets within a pool.
Its often convenient to think of weights in terms of ratios, so a 1:1
pool between &quot;ATOM&quot; and &quot;BTC&quot; is a pool where the spot price is
<code>#ATOM in pool / #BTC in pool</code>.</p> <p>A 2:1 pool is one where the spot price is
<code>2*(#ATOM in pool) / #BTC in pool</code>. This weights allows one to get the
same spot price in the pool, with fewer ATOM reserves. (This comes at
the cost of having higher slippage, e.g. buying 10 atoms moves the price
more than a 1:1 pool with the same BTC liquidity).</p> <p>Within the state machine, we represent weights as numbers, and the
ratios are computed internally. So you could specify a pool between
three assets, with weights 100:30:50, which is equivalent to a 10:3:5
pool.</p> <p>The ratios provided in a CreatePool message, or governance proposal are
capped at 2^20. However, within the state machine they are stored with
an extra 30 bits of precision, allowing for smooth changes between two
weights to happen with sufficient granularity.</p> <p>(Note, these docs are intended to get shuffled around as we write more
of the spec for x/gamm. I just wanted to document this along with the
PR, to save work for our future selves)</p> <h2 id="network-parameters"><a href="#network-parameters" class="header-anchor">#</a> Network Parameters</h2> <p>Pools have the following parameters:</p> <table><thead><tr><th>Key</th> <th>Type</th></tr></thead> <tbody><tr><td>SwapFee</td> <td>sdk.Dec</td></tr> <tr><td>ExitFee</td> <td>sdk.Dec</td></tr> <tr><td>FutureGovernor</td> <td>*FutureGovernor</td></tr> <tr><td>Weights</td> <td>*Weights</td></tr> <tr><td>SmoothWeightChangeParams</td> <td>*SmoothWeightChangeParams</td></tr> <tr><td>PoolCreationFee</td> <td>sdk.Coins</td></tr></tbody></table> <ol><li><strong>SwapFee</strong> -
The swap fee is the cut of all swaps that goes to the Liquidity Providers (LPs) for a pool. Suppose a pool has a swap fee <code>s</code>. Then if a user wants to swap <code>T</code> tokens in the pool, <code>sT</code> tokens go to the LP's, and then <code>(1 - s)T</code> tokens are swapped according to the AMM swap function.</li> <li><strong>ExitFee</strong> -
The exit fee is a fee that is applied to LP's that want to remove their liquidity from the pool. Suppose a pool has an exit fee <code>e</code>. If they currently have <code>S</code> LP shares, then when they remove their liquidity they get tokens worth <code>(1 - e)S</code> shares back. The remaining <code>eS</code> shares are then burned, and the tokens corresponding to these shares are kept as liquidity.</li> <li><strong>FutureGovernor</strong> -
Osmosis plans to allow every pool to act as a DAO, with its own governance in a future upgrade. To facilitate this transition, we allow pools to specify who the governor should be as a string. There are currently 3 options for the future governor.
<ul><li>No one will govern it. This is done by leaving the future governor string as blank.</li> <li>Allow a given address to govern it. This is done by setting the future governor as a bech32 address.</li> <li>Lockups to a token. This is the full DAO scenario. The future governor specifies a token denomination <code>denom</code>, and a lockup duration <code>duration</code>. This says that &quot;all tokens of denomination <code>denom</code> that are locked up for <code>duration</code> or longer, have equal say in governance of this pool&quot;.</li></ul></li> <li><strong>Weights</strong> -
This defines the weights of the pool - <a href="https://balancer.fi/whitepaper.pdf" target="_blank" rel="noopener noreferrer">https://balancer.fi/whitepaper.pdf<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><strong>SmoothWeightChangeParams</strong> -
This allows pool governance to smoothly change the weights of the assets it holds in the pool. So it can slowly move from a 2:1 ratio, to a 1:1 ratio.
Currently, smooth weight changes are implemented as a linear change in weight ratios over a given duration of time. So weights changed from 4:1 to 2:2 over 2 days, then at day 1 of the change, the weights would be 3:1.5, and at day 2 its 2:2, and will remain at these weight ratios.</li></ol> <p>The GAMM module also has a <strong>PoolCreationFee</strong> parameter, which currently is set to <code>100000000 uosmo</code> or <code>100 OSMO</code>.</p> <br> <br> <h2 id="messages"><a href="#messages" class="header-anchor">#</a> Messages</h2> <p>The <code>x/gamm</code> module supports the following message types:</p> <h3 id="msgcreatebalancerpool"><a href="#msgcreatebalancerpool" class="header-anchor">#</a> MsgCreateBalancerPool</h3> <p><a href="https://github.com/osmosis-labs/osmosis/blob/v7.1.0/proto/osmosis/gamm/pool-models/balancer/tx.proto#L16-L26" target="_blank" rel="noopener noreferrer">MsgCreateBalancerPool<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="msgjoinpool"><a href="#msgjoinpool" class="header-anchor">#</a> MsgJoinPool</h3> <p><a href="https://github.com/osmosis-labs/osmosis/blob/v7.1.0/proto/osmosis/gamm/v1beta1/tx.proto#L27-L39" target="_blank" rel="noopener noreferrer">MsgJoinPool<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="msgexitpool"><a href="#msgexitpool" class="header-anchor">#</a> MsgExitPool</h3> <p><a href="https://github.com/osmosis-labs/osmosis/blob/v7.1.0/proto/osmosis/gamm/v1beta1/tx.proto#L44-L57" target="_blank" rel="noopener noreferrer">MsgExitPool<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="msgswapexactamountin"><a href="#msgswapexactamountin" class="header-anchor">#</a> MsgSwapExactAmountIn</h3> <p><a href="https://github.com/osmosis-labs/osmosis/blob/v7.1.0/proto/osmosis/gamm/v1beta1/tx.proto#L68-L80" target="_blank" rel="noopener noreferrer">MsgSwapExactAmountIn<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="msgswapexactamountout"><a href="#msgswapexactamountout" class="header-anchor">#</a> MsgSwapExactAmountOut</h3> <p><a href="https://github.com/osmosis-labs/osmosis/blob/v7.1.0/proto/osmosis/gamm/v1beta1/tx.proto#L90-L102" target="_blank" rel="noopener noreferrer">MsgSwapExactAmountOut<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="msgjoinswapexternamountin"><a href="#msgjoinswapexternamountin" class="header-anchor">#</a> MsgJoinSwapExternAmountIn</h3> <p><a href="https://github.com/osmosis-labs/osmosis/blob/v7.1.0/proto/osmosis/gamm/v1beta1/tx.proto#L107-L119" target="_blank" rel="noopener noreferrer">MsgJoinSwapExternAmountIn<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="msgjoinswapshareamountout"><a href="#msgjoinswapshareamountout" class="header-anchor">#</a> MsgJoinSwapShareAmountOut</h4> <p><a href="https://github.com/osmosis-labs/osmosis/blob/v7.1.0/proto/osmosis/gamm/v1beta1/tx.proto#L124-L138" target="_blank" rel="noopener noreferrer">MsgJoinSwapShareAmountOut<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="msgexitswapshareamountin"><a href="#msgexitswapshareamountin" class="header-anchor">#</a> MsgExitSwapShareAmountIn</h4> <p><a href="https://github.com/osmosis-labs/osmosis/blob/v7.1.0/proto/osmosis/gamm/v1beta1/tx.proto#L143-L158" target="_blank" rel="noopener noreferrer">MsgExitSwapShareAmountIn<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="msgexitswapexternamountout"><a href="#msgexitswapexternamountout" class="header-anchor">#</a> MsgExitSwapExternAmountOut</h4> <p><a href="https://github.com/osmosis-labs/osmosis/blob/v7.1.0/proto/osmosis/gamm/v1beta1/tx.proto#L163-L175" target="_blank" rel="noopener noreferrer">MsgExitSwapExternAmountOut<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="transactions"><a href="#transactions" class="header-anchor">#</a> Transactions</h2> <h3 id="create-pool"><a href="#create-pool" class="header-anchor">#</a> Create pool</h3> <p>Create a new liquidity pool and provide initial liquidity to it.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm create-pool <span class="token punctuation">[</span>config-file<span class="token punctuation">]</span> --from --chain-id
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><details class="custom-block details"><summary>Example</summary> <p>The JSON [config-file] must specify the following parameters:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
 <span class="token property">&quot;weights&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>list weighted denoms<span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token property">&quot;initial-deposit&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>list of denoms with initial deposit amount<span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token property">&quot;swap-fee&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>swap fee in percentage<span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token property">&quot;exit-fee&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>exit fee in percentage<span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token property">&quot;future-governor&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>see options in pool parameters section above<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>Create a new 50/50 AKT-OSMO liquidity pool with a swap and exit fee of 1%.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm create-pool --pool-file <span class="token punctuation">[</span>config-file<span class="token punctuation">]</span> --from WALLET_NAME --chain-id osmosis-1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The configuration json file contains the following parameters:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
 <span class="token property">&quot;weights&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5ibc/1480B8FD20AD5FCAE81EA87584D269547DD4D436843C1D20F15E00EB64743EF4,5uosmo&quot;</span><span class="token punctuation">,</span>
 <span class="token property">&quot;initial-deposit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;499404ibc/1480B8FD20AD5FCAE81EA87584D269547DD4D436843C1D20F15E00EB64743EF4,500000uosmo&quot;</span><span class="token punctuation">,</span>
 <span class="token property">&quot;swap-fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.01&quot;</span><span class="token punctuation">,</span>
 <span class="token property">&quot;exit-fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.01&quot;</span><span class="token punctuation">,</span>
 <span class="token property">&quot;future-governor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></details> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>There is now a 100 OSMO fee for creating pools.</p></div> <h3 id="join-pool"><a href="#join-pool" class="header-anchor">#</a> Join pool</h3> <p>Add liquidity to a specified pool to get an <strong>exact</strong> amount of LP shares while specifying a <strong>maximum</strong> number tokens willing to swap to receive said LP shares.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm join-pool --pool-id --max-amounts-in --share-amount-out --from --chain-id
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><details class="custom-block details"><summary>Example</summary> <p>Join <code>pool 3</code> with a <strong>maximum</strong> of <code>.037753 AKT</code> and the corresponding amount of <code>OSMO</code> to get an <strong>exact</strong> share amount of <code>1.227549469722224220 gamm/pool/3</code> using <code>WALLET_NAME</code> on the osmosis mainnet:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm join-pool --pool-id <span class="token number">3</span> --max-amounts-in 37753ibc/1480B8FD20AD5FCAE81EA87584D269547DD4D436843C1D20F15E00EB64743EF4 --share-amount-out <span class="token number">1227549469722224220</span> --from WALLET_NAME --chain-id osmosis-1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></details> <h3 id="exit-pool"><a href="#exit-pool" class="header-anchor">#</a> Exit pool</h3> <p>Remove liquidity from a specified pool with an <strong>exact</strong> amount of LP shares while specifying the <strong>minimum</strong> number of tokens willing to receive for said LP shares.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm exit-pool --pool-id --min-amounts-out --share-amount-in --from --chain-id
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><details class="custom-block details"><summary>Example</summary> <p>Exit <code>pool 3</code> with for <strong>exactly</strong> <code>1.136326462628731195 gamm/pool/3</code> in order to receive a <strong>minimum</strong> of <code>.033358 AKT</code> and the corresponding amount of <code>OSMO</code> using <code>WALLET_NAME</code> on the osmosis mainnet:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm exit-pool --pool-id <span class="token number">3</span> --min-amounts-out 33358ibc/1480B8FD20AD5FCAE81EA87584D269547DD4D436843C1D20F15E00EB64743EF4 --share-amount-in <span class="token number">1136326462628731195</span> --from WALLET_NAME --chain-id osmosis-1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></details> <h3 id="join-swap-extern-amount-in"><a href="#join-swap-extern-amount-in" class="header-anchor">#</a> Join-swap-extern-amount-in</h3> <p>Add liquidity to a specified pool with only one of the required assets (i.e. Join pool 1 (50/50 ATOM-OSMO) with just ATOM).</p> <p>This command essentially swaps an <strong>exact</strong> amount of an asset for the required pairing and then converts the pair to a <strong>minimum</strong> of the requested LP shares in a single step (i.e. combines the <code>swap-exact-amount-in</code> and <code>join-pool</code> commands)</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm join-swap-extern-amount-in <span class="token punctuation">[</span>token-in<span class="token punctuation">]</span> <span class="token punctuation">[</span>share-out-min-amount<span class="token punctuation">]</span> --from --pool-id --chain-id
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><details class="custom-block details"><summary>Example</summary> <p>Join <code>pool 3</code> with <strong>exactly</strong> <code>.200000 AKT</code> (and <code>0 OSMO</code>) to get a <strong>minimum</strong> of <code>3.234812471272883046 gamm/pool/3</code> using <code>WALLET_NAME</code> on the osmosis mainnet:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm join-swap-extern-amount-in 200000ibc/1480B8FD20AD5FCAE81EA87584D269547DD4D436843C1D20F15E00EB64743EF4 <span class="token number">3234812471272883046</span> --pool-id <span class="token number">3</span> --from WALLET_NAME --chain-id osmosis-1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></details> <h3 id="exit-swap-extern-amount-out"><a href="#exit-swap-extern-amount-out" class="header-anchor">#</a> Exit-swap-extern-amount-out</h3> <p>Remove liquidity from a specified pool with a <strong>maximum</strong> amount of LP shares and swap to an <strong>exact</strong> amount of one of the token pairs (i.e. Leave pool 1 (50/50 ATOM-OSMO) and receive 100% ATOM instead of 50% OSMO and 50% ATOM).</p> <p>This command essentially converts an LP share into the corresponding share of tokens and then swaps to the specified <code>token-out</code> in a single step (i.e. combines the <code>swap-exact-amount-out</code> and <code>exit-pool</code> commands)</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm exit-swap-extern-amount-out <span class="token punctuation">[</span>token-out<span class="token punctuation">]</span> <span class="token punctuation">[</span>share-in-max-amount<span class="token punctuation">]</span> --pool-id --from --chain-id
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><details class="custom-block details"><summary>Example</summary> <p>Exit <code>pool 3</code> by removing a <strong>maximum</strong> of <code>3.408979387886193586 gamm/pool/3</code> and swap the <code>OSMO</code> portion of the LP share to receive 100% AKT in the <strong>exact</strong> amount of <code>0.199430 AKT</code>:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm exit-swap-extern-amount-out 199430ibc/1480B8FD20AD5FCAE81EA87584D269547DD4D436843C1D20F15E00EB64743EF4 <span class="token number">3408979387886193586</span> --pool-id <span class="token number">3</span> --from WALLET_NAME --chain-id osmosis-1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></details> <h3 id="join-swap-share-amount-out"><a href="#join-swap-share-amount-out" class="header-anchor">#</a> Join-swap-share-amount-out</h3> <p>Swap a <strong>maximum</strong> amount of a specified token for another token, similar to swapping a token on the trade screen GUI (i.e. takes the specified asset and swaps it to the other asset needed to join the specified pool) and then adds an <strong>exact</strong> amount of LP shares to the specified pool.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm join-swap-share-amount-out <span class="token punctuation">[</span>token-in-denom<span class="token punctuation">]</span> <span class="token punctuation">[</span>token-in-max-amount<span class="token punctuation">]</span> <span class="token punctuation">[</span>share-out-amount<span class="token punctuation">]</span> --pool-id --from --chain-id
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><details class="custom-block details"><summary>Example</summary> <p>Swap a <strong>maximum</strong> of <code>0.312466 OSMO</code> for the corresponding amount of <code>AKT</code>, then join <code>pool 3</code> and receive <strong>exactly</strong> <code>1.4481270389710236872 gamm/pool/3</code>:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm join-swap-share-amount-out uosmo <span class="token number">312466</span> <span class="token number">14481270389710236872</span> --pool-id <span class="token number">3</span> --from WALLET_NAME --chain-id osmosis-1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></details> <h3 id="exit-swap-share-amount-in"><a href="#exit-swap-share-amount-in" class="header-anchor">#</a> Exit-swap-share-amount-in</h3> <p>Remove an <strong>exact</strong> amount of LP shares from a specified pool, swap the LP shares to one of the token pairs to receive a <strong>minimum</strong> of the specified token amount.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm exit-swap-share-amount-in <span class="token punctuation">[</span>token-out-denom<span class="token punctuation">]</span> <span class="token punctuation">[</span>share-in-amount<span class="token punctuation">]</span> <span class="token punctuation">[</span>token-out-min-amount<span class="token punctuation">]</span> --pool-id --from --chain-id
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><details class="custom-block details"><summary>Example</summary> <p>Exit <code>pool 3</code> by removing <strong>exactly</strong> <code>14.563185400026723131 gamm/pool/3</code> and swap the <code>AKT</code> portion of the LP share to receive 100% OSMO in the <strong>minimum</strong> amount of <code>.298548 OSMO</code>:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm exit-swap-share-amount-in uosmo <span class="token number">14563185400026723131</span> <span class="token number">298548</span> --pool-id <span class="token number">3</span> --from WALLET_NAME --chain-id osmosis-1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></details> <h3 id="swap-exact-amount-in"><a href="#swap-exact-amount-in" class="header-anchor">#</a> Swap-exact-amount-in</h3> <p>Swap an <strong>exact</strong> amount of tokens for a <strong>minimum</strong> of another token, similar to swapping a token on the trade screen GUI.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm swap-exact-amount-in <span class="token punctuation">[</span>token-in<span class="token punctuation">]</span> <span class="token punctuation">[</span>token-out-min-amount<span class="token punctuation">]</span> --pool-id --from --chain-id
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><details class="custom-block details"><summary>Example</summary> <p>Swap <strong>exactly</strong> <code>.407239 AKT</code> through <code>pool 3</code> into a <strong>minimum</strong> of <code>.140530 OSMO</code> using <code>WALLET_NAME</code> on the osmosis mainnet:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm swap-exact-amount-in 407239ibc/1480B8FD20AD5FCAE81EA87584D269547DD4D436843C1D20F15E00EB64743EF4 <span class="token number">140530</span> --swap-route-pool-ids <span class="token number">3</span> --swap-route-denoms uosmo --from WALLET_NAME --chain-id osmosis-1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></details> <h3 id="swap-exact-amount-out"><a href="#swap-exact-amount-out" class="header-anchor">#</a> Swap-exact-amount-out</h3> <p>Swap a <strong>maximum</strong> amount of tokens for an <strong>exact</strong> amount of another token, similar to swapping a token on the trade screen GUI.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm swap-exact-amount-out <span class="token punctuation">[</span>token-out<span class="token punctuation">]</span> <span class="token punctuation">[</span>token-out-max-amount<span class="token punctuation">]</span> --swap-route-pool-ids --from --chain-id
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><details class="custom-block details"><summary>Example</summary> <p>Swap a <strong>maximum</strong> of <code>.407239 AKT</code> through <code>pool 3</code> into <strong>exactly</strong> <code>.140530 OSMO</code> using <code>WALLET_NAME</code> on the osmosis mainnet:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm swap-exact-amount-out 140530uosmo <span class="token number">407239</span> --swap-route-pool-ids <span class="token number">3</span> --swap-route-denoms ibc/1480B8FD20AD5FCAE81EA87584D269547DD4D436843C1D20F15E00EB64743EF4 --from WALLET_NAME --chain-id osmosis-1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></details> <h2 id="queries-and-transactions"><a href="#queries-and-transactions" class="header-anchor">#</a> Queries and Transactions</h2> <h2 id="queries"><a href="#queries" class="header-anchor">#</a> Queries</h2> <p>The <strong>Query</strong> submodule of the GAMM module provides the logic to request information from the liquidity pools. It contains the following functions:</p> <ul><li><a href="#estimate-swap-exact-amount-in">Estimate Swap Exact Amount In</a></li> <li><a href="#estimate-swap-exact-amount-out">Estimate Swap Exact Amount Out</a></li> <li><a href="#num-pools">Num Pools</a></li> <li><a href="#pool">Pool</a></li> <li><a href="#pool-assets">Pool Assets</a></li> <li><a href="#pool-params">Pool Params</a></li> <li><a href="#pools">Pools</a></li> <li><a href="#spot-price">Spot Price</a></li> <li><a href="#total-liquidity">Total Liquidity</a></li> <li><a href="#total-share">Total Share</a></li></ul> <h3 id="estimate-swap-exact-amount-in"><a href="#estimate-swap-exact-amount-in" class="header-anchor">#</a> Estimate Swap Exact Amount In</h3> <p>Query the estimated result of the <a href="#swap-exact-amount-in">Swap Exact Amount In</a> transaction. Note that the flags <em>swap-route-pool</em> and <em>swap-route-denoms</em> are required.</p> <h4 id="usage"><a href="#usage" class="header-anchor">#</a> Usage</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm estimate-swap-exact-amount-in <span class="token operator">&lt;</span>poolID<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>sender<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>tokenIn<span class="token operator">&gt;</span> <span class="token punctuation">[</span>flags<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="example"><a href="#example" class="header-anchor">#</a> Example</h4> <p>Query the amount of ATOM the sender would receive for swapping 1 OSMO in pool 1.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm estimate-swap-exact-amount-in <span class="token number">1</span> osmo123nfq6m8f88m4g3sky570unsnk4zng4uqv7cm8 1000000uosmo --swap-route-pool-ids <span class="token number">1</span> --swap-route-denoms ibc/27394FB092D2ECCD56123C74F36E4C1F926001CEADA9CA97EA622B25F41E5EB2 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="estimate-swap-exact-amount-out"><a href="#estimate-swap-exact-amount-out" class="header-anchor">#</a> Estimate Swap Exact Amount Out</h3> <p>Query the estimated result of the <a href="#swap-exact-amount-out">Swap Exact Amount Out</a> transaction. Note that the flags <em>swap-route-pool</em> and <em>swap-route-denoms</em> are required.</p> <h4 id="usage-2"><a href="#usage-2" class="header-anchor">#</a> Usage</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm estimate-swap-exact-amount-out <span class="token operator">&lt;</span>poolID<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>sender<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>tokenOut<span class="token operator">&gt;</span> <span class="token punctuation">[</span>flags<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="example-2"><a href="#example-2" class="header-anchor">#</a> Example</h4> <p>Query the amount of OSMO the sender would require to swap 1 ATOM out of pool 1.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm estimate-swap-exact-amount-out <span class="token number">1</span> osmo123nfq6m8f88m4g3sky570unsnk4zng4uqv7cm8 1000000ibc/27394FB092D2ECCD56123C74F36E4C1F926001CEADA9CA97EA622B25F41E5EB2 --swap-route-pool-ids <span class="token number">1</span> --swap-route-denoms uosmo
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="num-pools"><a href="#num-pools" class="header-anchor">#</a> Num Pools</h3> <p>Query the number of active pools.</p> <h4 id="usage-3"><a href="#usage-3" class="header-anchor">#</a> Usage</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm num-pools
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="pool-2"><a href="#pool-2" class="header-anchor">#</a> Pool</h2> <p>Query the parameter and assets of a specific pool.</p> <h3 id="usage-4"><a href="#usage-4" class="header-anchor">#</a> Usage</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm pool <span class="token operator">&lt;</span>poolID<span class="token operator">&gt;</span> <span class="token punctuation">[</span>flags<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="example-3"><a href="#example-3" class="header-anchor">#</a> Example</h3> <p>Query parameters and assets from pool 1.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm pool <span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="pool-assets"><a href="#pool-assets" class="header-anchor">#</a> Pool Assets</h3> <p>Query the assets of a specific pool. This query is a reduced form of the <a href="#pool">Pool</a> query.</p> <h4 id="usage-5"><a href="#usage-5" class="header-anchor">#</a> Usage</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm pool-assets <span class="token operator">&lt;</span>poolID<span class="token operator">&gt;</span> <span class="token punctuation">[</span>flags<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="example-4"><a href="#example-4" class="header-anchor">#</a> Example</h4> <p>Query the assets from pool 1.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm pool-assets <span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="pool-params"><a href="#pool-params" class="header-anchor">#</a> Pool Params</h3> <p>Query the parameters of a specific pool. This query is a reduced form of the <a href="#pool">Pool</a> query.</p> <h4 id="usage-6"><a href="#usage-6" class="header-anchor">#</a> Usage</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm pool-params <span class="token operator">&lt;</span>poolID<span class="token operator">&gt;</span> <span class="token punctuation">[</span>flags<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Query the parameters from pool 1.</p> <h4 id="example-5"><a href="#example-5" class="header-anchor">#</a> Example</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm pool-params <span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="pools"><a href="#pools" class="header-anchor">#</a> Pools</h3> <p>Query parameters and assets of all active pools.</p> <h4 id="usage-7"><a href="#usage-7" class="header-anchor">#</a> Usage</h4> <p>Query the price of OSMO based on the price of ATOM in pool 1.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm spot-price <span class="token number">1</span> uosmo ibc/27394FB092D2ECCD56123C74F36E4C1F926001CEADA9CA97EA622B25F41E5EB2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="total-liquidity"><a href="#total-liquidity" class="header-anchor">#</a> Total Liquidity</h3> <p>Query the total liquidity of all active pools.</p> <h4 id="usage-8"><a href="#usage-8" class="header-anchor">#</a> Usage</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm total-liquidity
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="total-share"><a href="#total-share" class="header-anchor">#</a> Total Share</h3> <p>Query the total amount of GAMM shares of a specific pool.</p> <h4 id="usage-9"><a href="#usage-9" class="header-anchor">#</a> Usage</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm total-share <span class="token operator">&lt;</span>poolID<span class="token operator">&gt;</span> <span class="token punctuation">[</span>flags<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="example-6"><a href="#example-6" class="header-anchor">#</a> Example</h4> <p>Query the total amount of GAMM shares of pool 1.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm total-share <span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="transactions-2"><a href="#transactions-2" class="header-anchor">#</a> Transactions</h2> <p>The <strong>Transaction</strong> submodule of the GAMM module provides the logic to create and interact with the liquidity pools. It contains the following functions:</p> <ul><li><a href="#create-pool">Create Pool</a></li> <li><a href="#join-pool">Join Pool</a></li> <li><a href="#exit-pool">Exit Pool</a></li> <li><a href="#join-swap-extern-amount-in">Join Swap Extern Amount In</a></li> <li><a href="#exit-swap-extern-amount-out">Exit Swap Extern Amount Out</a></li> <li><a href="#join-swap-share-amount-out">Join Swap Share Amount Out</a></li> <li><a href="#exit-swap-share-amount-in">Exit Swap Share Amount In</a></li> <li><a href="#swap-exact-amount-in">Swap Exact Amount In</a></li> <li><a href="#swap-exact-amount-out">Swap Exact Amount Out</a></li></ul> <h3 id="estimate-swap-exact-amount-in-2"><a href="#estimate-swap-exact-amount-in-2" class="header-anchor">#</a> Estimate-swap-exact-amount-in</h3> <p>Query the estimated result of the <a href="#swap-exact-amount-in">swap-exact-amount-in</a> transaction.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm estimate-swap-exact-amount-in <span class="token punctuation">[</span>poolID<span class="token punctuation">]</span> <span class="token punctuation">[</span>sender<span class="token punctuation">]</span> <span class="token punctuation">[</span>tokenIn<span class="token punctuation">]</span> --swap-route-pool-ids --swap-route-denoms
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><details class="custom-block details"><summary>Example</summary> <p>Query the amount of ATOM (or <code>ibc/27394FB092D2ECCD56123C74F36E4C1F926001CEADA9CA97EA622B25F41E5EB2</code>) the <code>sender</code> would receive for swapping <code>1 OSMO</code> in <code>pool 1</code>.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm estimate-swap-exact-amount-in <span class="token number">1</span> osmo123nfq6m8f88m4g3sky570unsnk4zng4uqv7cm8 1000000uosmo --swap-route-pool-ids <span class="token number">1</span> --swap-route-denoms ibc/27394FB092D2ECCD56123C74F36E4C1F926001CEADA9CA97EA622B25F41E5EB2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></details> <h3 id="estimate-swap-exact-amount-out-2"><a href="#estimate-swap-exact-amount-out-2" class="header-anchor">#</a> Estimate-swap-exact-amount-out</h3> <p>Query the estimated result of the <a href="#swap-exact-amount-out">swap-exact-amount-out</a> transaction.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm estimate-swap-exact-amount-out <span class="token punctuation">[</span>poolID<span class="token punctuation">]</span> <span class="token punctuation">[</span>sender<span class="token punctuation">]</span> <span class="token punctuation">[</span>tokenOut<span class="token punctuation">]</span> --swap-route-pool-ids --swap-route-denoms
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><details class="custom-block details"><summary>Example</summary> <p>Query the amount of <code>OSMO</code> the <code>sender</code> would require to swap 1 ATOM (or <code>1000000ibc/27394FB092D2ECCD56123C74F36E4C1F926001CEADA9CA97EA622B25F41E5EB2</code>) our of <code>pool 1</code>:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm estimate-swap-exact-amount-out <span class="token number">1</span> osmo123nfq6m8f88m4g3sky570unsnk4zng4uqv7cm8 1000000ibc/27394FB092D2ECCD56123C74F36E4C1F926001CEADA9CA97EA622B25F41E5EB2 --swap-route-pool-ids <span class="token number">1</span> --swap-route-denoms uosmo
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></details> <h3 id="num-pools-2"><a href="#num-pools-2" class="header-anchor">#</a> Num-pools</h3> <p>Query the number of active pools.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm num-pools
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="pool-3"><a href="#pool-3" class="header-anchor">#</a> Pool</h3> <p>Query the parameter and assets of a specific pool.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm pool <span class="token punctuation">[</span>poolID<span class="token punctuation">]</span> <span class="token punctuation">[</span>flags<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><details class="custom-block details"><summary>Example</summary> <p>Query parameters and assets from <code>pool 1</code>.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm pool <span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Which outputs:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>  address: osmo1mw0ac6rwlp5r8wapwk3zs6g29h8fcscxqakdzw9emkne6c8wjp9q0t3v8t
  id: <span class="token number">1</span>
  pool_params:
    swap_fee: <span class="token string">&quot;0.003000000000000000&quot;</span>
    exit_fee: <span class="token string">&quot;0.000000000000000000&quot;</span>
    smooth_weight_change_params: null
  future-governor: 24h
  total_weight: <span class="token string">&quot;1000000.000000000000000000&quot;</span>
  total_shares:
    denom: gamm/pool/1
    amount: <span class="token string">&quot;252329392916236134754561337&quot;</span>
  pool_assets:
  - <span class="token operator">|</span>
    token:
      denom: ibc/27394FB092D2ECCD56123C74F36E4C1F926001CEADA9CA97EA622B25F41E5EB2
      amount: <span class="token string">&quot;4024633105693&quot;</span>
    weight: <span class="token string">&quot;500000.000000000000000000&quot;</span>
  - <span class="token operator">|</span>
    token:
      denom: uosmo
      amount: <span class="token string">&quot;21388879300450&quot;</span>
    weight: <span class="token string">&quot;500000.000000000000000000&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div></details> <h3 id="pool-assets-2"><a href="#pool-assets-2" class="header-anchor">#</a> Pool-assets</h3> <p>Query the assets of a specific pool. This query is a reduced form of the <a href="#pool">pool</a> query.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm pool-assets <span class="token punctuation">[</span>poolID<span class="token punctuation">]</span> <span class="token punctuation">[</span>flags<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><details class="custom-block details"><summary>Example</summary> <p>Query the assets from <code>pool 1</code>.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm pool-assets <span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Which outputs:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>poolAssets:
- token:
    amount: <span class="token string">&quot;4024839695885&quot;</span>
    denom: ibc/27394FB092D2ECCD56123C74F36E4C1F926001CEADA9CA97EA622B25F41E5EB2
  weight: <span class="token string">&quot;536870912000000&quot;</span>
- token:
    amount: <span class="token string">&quot;21387918414792&quot;</span>
    denom: uosmo
  weight: <span class="token string">&quot;536870912000000&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></details> <h3 id="pool-params-2"><a href="#pool-params-2" class="header-anchor">#</a> Pool Params</h3> <p>Query the parameters of a specific pool. This query is a reduced form of the <a href="#pool">pool</a> query.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm pool-params <span class="token punctuation">[</span>poolID<span class="token punctuation">]</span> <span class="token punctuation">[</span>flags<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><details class="custom-block details"><summary>Example</summary> <p>Query the parameters from pool 1.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm pool-params <span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Which outputs:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>swap_fee: <span class="token string">&quot;0.003000000000000000&quot;</span>
exit_fee: <span class="token string">&quot;0.000000000000000000&quot;</span>
smooth_weight_change_params: null
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></details> <h3 id="pools-2"><a href="#pools-2" class="header-anchor">#</a> Pools</h3> <p>Query parameters and assets of all active pools.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm pools
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="spot-price-2"><a href="#spot-price-2" class="header-anchor">#</a> Spot-price</h3> <p>Query the spot price of a pool asset based on a specific pool it is in.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm spot-price <span class="token punctuation">[</span>poolID<span class="token punctuation">]</span> <span class="token punctuation">[</span>tokenInDenom<span class="token punctuation">]</span> <span class="token punctuation">[</span>tokenOutDenom<span class="token punctuation">]</span> <span class="token punctuation">[</span>flags<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><details class="custom-block details"><summary>Example</summary> <p>Query the price of OSMO based on the price of ATOM in pool 1:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm spot-price <span class="token number">1</span> uosmo ibc/27394FB092D2ECCD56123C74F36E4C1F926001CEADA9CA97EA622B25F41E5EB2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Which outputs:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>spotPrice: <span class="token string">&quot;5.314387014412388547&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>In other words, at the time of this writing, ~5.314 OSMO is equivalent to 1 ATOM.</p></details> <h3 id="total-liquidity-2"><a href="#total-liquidity-2" class="header-anchor">#</a> Total-liquidity</h3> <p>Query the total liquidity of all active pools.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm total-liquidity
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="total-share-2"><a href="#total-share-2" class="header-anchor">#</a> Total-share</h3> <p>Query the total amount of GAMM shares of a specific pool.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm total-share <span class="token punctuation">[</span>poolID<span class="token punctuation">]</span> <span class="token punctuation">[</span>flags<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><details class="custom-block details"><summary>Example</summary> <p>Query the total amount of GAMM shares of pool 1.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd query gamm total-share <span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Which outputs:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>totalShares:
  amount: <span class="token string">&quot;252328895834096787303097071&quot;</span>
  denom: gamm/pool/1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Indicating there are a total of <code>252328895.834096787303097071 gamm/pool/1</code> at the time of this writing</p></details> <h3 id="create-pool-2"><a href="#create-pool-2" class="header-anchor">#</a> Create Pool</h3> <p>Create a new liquidity pool and provide the initial liquidity to it. Pool initialization parameters must be provided through a JSON file using the flag <em>pool-file</em>.</p> <h4 id="usage-10"><a href="#usage-10" class="header-anchor">#</a> Usage</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm create-pool <span class="token punctuation">[</span>flags<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The configuration file <em>config.json</em> must specify the following parameters.</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
 <span class="token property">&quot;weights&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>list weighted denoms<span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token property">&quot;initial-deposit&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>list of denoms with initial deposit amount<span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token property">&quot;swap-fee&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>swap fee in percentage<span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token property">&quot;exit-fee&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>exit fee in percentage<span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token property">&quot;future-governor&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>number of hours<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="example-7"><a href="#example-7" class="header-anchor">#</a> Example</h4> <p>Create a new ATOM-OSMO liquidity pool with a swap and exit fee of 1%.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>tx gamm create-pool --pool-file <span class="token punctuation">..</span>/public/config.json --from myKeyringWallet
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The configuration file contains the following parameters.</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
 <span class="token property">&quot;weights&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5uatom,5uosmo&quot;</span><span class="token punctuation">,</span>
 <span class="token property">&quot;initial-deposit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100uatom,100uosmo&quot;</span><span class="token punctuation">,</span>
 <span class="token property">&quot;swap-fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.01&quot;</span><span class="token punctuation">,</span>
 <span class="token property">&quot;exit-fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.01&quot;</span><span class="token punctuation">,</span>
 <span class="token property">&quot;future-governor&quot;</span><span class="token operator">:</span> <span class="token string">&quot;168h&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="join-pool-2"><a href="#join-pool-2" class="header-anchor">#</a> Join Pool</h3> <p>Join a specific pool with a custom amount of tokens. Note that the flags <em>pool-id</em>, <em>max-amounts-in</em> and <em>share-amount-out</em> are required.</p> <h4 id="usage-11"><a href="#usage-11" class="header-anchor">#</a> Usage</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm join-pool <span class="token punctuation">[</span>flags<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="example-8"><a href="#example-8" class="header-anchor">#</a> Example</h4> <p>Join pool 1 with 1 OSMO and the respective amount of ATOM, using myKeyringWallet.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm join-pool --pool-id <span class="token number">2</span> --max-amounts-in 1000000uosmo --max-amounts-in 1000000uion --share-amount-out <span class="token number">1000000</span> --from myKeyringWallet
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="exit-pool-2"><a href="#exit-pool-2" class="header-anchor">#</a> Exit Pool</h3> <p>Exit a specific pool with a custom amount of tokens. Note that the flags <em>pool-id</em>, <em>min-amounts-out</em> and <em>share-amount-in</em> are required.</p> <h4 id="usage-12"><a href="#usage-12" class="header-anchor">#</a> Usage</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm exit-pool <span class="token punctuation">[</span>flags<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="example-9"><a href="#example-9" class="header-anchor">#</a> Example</h4> <p>Exit pool one with 1 OSMO and the respective amount of ATOM using myKeyringWallet.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm exit-pool --pool-id <span class="token number">1</span> --min-amounts-out 1000000uosmo --share-amount-in <span class="token number">1000000</span> --from myKeyringWallet
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="join-swap-extern-amount-in-2"><a href="#join-swap-extern-amount-in-2" class="header-anchor">#</a> Join Swap Extern Amount In</h3> <p>Note that the flags <em>pool-id</em> is required.</p> <h4 id="usage-13"><a href="#usage-13" class="header-anchor">#</a> Usage</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm join-swap-extern-amount-in <span class="token punctuation">[</span>token-in<span class="token punctuation">]</span> <span class="token punctuation">[</span>share-out-min-amount<span class="token punctuation">]</span> <span class="token punctuation">[</span>flags<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="example-10"><a href="#example-10" class="header-anchor">#</a> Example</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm join-swap-extern-amount-in 1000000uosmo <span class="token number">1000000</span> --pool-id <span class="token number">1</span> --from myKeyringWallet
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="exit-swap-extern-amount-out-2"><a href="#exit-swap-extern-amount-out-2" class="header-anchor">#</a> Exit Swap Extern Amount Out</h3> <p>Note that the flag <em>pool-id</em> is required.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm exit-swap-extern-amount-out <span class="token punctuation">[</span>token-out<span class="token punctuation">]</span> <span class="token punctuation">[</span>share-in-max-amount<span class="token punctuation">]</span> <span class="token punctuation">[</span>flags<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="example-11"><a href="#example-11" class="header-anchor">#</a> Example</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm exit-swap-extern-amount-out 1000000uosmo <span class="token number">1000000</span> --pool-id <span class="token number">1</span> --from myKeyringWallet
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="join-swap-share-amount-out-2"><a href="#join-swap-share-amount-out-2" class="header-anchor">#</a> Join Swap Share Amount Out</h3> <p>Note that the flag <em>pool-id</em> is required.</p> <h4 id="usage-14"><a href="#usage-14" class="header-anchor">#</a> Usage</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm join-swap-share-amount-out <span class="token punctuation">[</span>token-in-denom<span class="token punctuation">]</span> <span class="token punctuation">[</span>token-in-max-amount<span class="token punctuation">]</span> <span class="token punctuation">[</span>share-out-amount<span class="token punctuation">]</span> <span class="token punctuation">[</span>flags<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="example-12"><a href="#example-12" class="header-anchor">#</a> Example</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm join-swap-share-amount-out uosmo <span class="token number">1000000</span> <span class="token number">1000000</span> --pool-id <span class="token number">1</span> --from myKeyringWallet
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="exit-swap-share-amount-in-2"><a href="#exit-swap-share-amount-in-2" class="header-anchor">#</a> Exit Swap Share Amount In</h3> <p>Note that the flag <em>pool-id</em> is required.</p> <h4 id="usage-15"><a href="#usage-15" class="header-anchor">#</a> Usage</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm exit-swap-share-amount-in <span class="token punctuation">[</span>token-out-denom<span class="token punctuation">]</span> <span class="token punctuation">[</span>share-in-amount<span class="token punctuation">]</span> <span class="token punctuation">[</span>token-out-min-amount<span class="token punctuation">]</span> <span class="token punctuation">[</span>flags<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="example-13"><a href="#example-13" class="header-anchor">#</a> Example</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm exit-swap-share-amount-in uosmo <span class="token number">1000000</span> <span class="token number">1000000</span> --pool-id <span class="token number">1</span> --from myKeyringWallet
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="swap-exact-amount-in-2"><a href="#swap-exact-amount-in-2" class="header-anchor">#</a> Swap Exact Amount In</h3> <p>Swap an exact amount of tokens into a specific pool. Note that the flags <em>swap-route-pool-ids</em> and <em>swap-route-denoms</em> are required.</p> <h4 id="usage-16"><a href="#usage-16" class="header-anchor">#</a> Usage</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm swap-exact-amount-in <span class="token punctuation">[</span>token-in<span class="token punctuation">]</span> <span class="token punctuation">[</span>token-out-min-amount<span class="token punctuation">]</span> <span class="token punctuation">[</span>flags<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="example-14"><a href="#example-14" class="header-anchor">#</a> Example</h4> <p>Swap 1 OSMO through pool 1 into at least 0.3 ATOM using MyKeyringWallet.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm swap-exact-amount-in 1000000uosmo <span class="token number">300000</span> --swap-route-pool-ids <span class="token number">1</span> --swap-route-denoms ibc/27394FB092D2ECCD56123C74F36E4C1F926001CEADA9CA97EA622B25F41E5EB2 --from MyKeyringWallet
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="swap-exact-amount-out-2"><a href="#swap-exact-amount-out-2" class="header-anchor">#</a> Swap Exact Amount Out</h3> <p>Swap an exact amount of tokens out of a specific pool. Note that the flags <em>swap-route-pool-ids</em> and <em>swap-route-denoms</em> are required.</p> <h3 id="usage-17"><a href="#usage-17" class="header-anchor">#</a> Usage</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm swap-exact-amount-out <span class="token punctuation">[</span>token-out<span class="token punctuation">]</span> <span class="token punctuation">[</span>token-out-max-amount<span class="token punctuation">]</span> <span class="token punctuation">[</span>flags<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="example-15"><a href="#example-15" class="header-anchor">#</a> Example</h3> <p>Swap 1 ATOM through pool 1 into at most 2.5 OSMO using MyKeyringWallet.</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>osmosisd tx gamm swap-exact-amount-out 1000000ibc/27394FB092D2ECCD56123C74F36E4C1F926001CEADA9CA97EA622B25F41E5EB2 <span class="token number">250000</span> --swap-route-pool-ids <span class="token number">1</span> --swap-route-denoms uosmo --from MyKeyringWallet
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="other-resources"><a href="#other-resources" class="header-anchor">#</a> Other resources</h2> <ul><li><a href="/developing/osmosis-core/modules/client/docs/create-lbp-pool.html">Creating a liquidity bootstrapping pool</a></li> <li><a href="/developing/osmosis-core/modules/client/docs/create-pool.html">Creating a pool with a pool file</a></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/osmosis-labs/docs/edit/main/developing/osmosis-core/modules/spec-gamm.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Updated on:</span> <span class="time">6/21/2022, 9:29:20 PM</span></div></footer> <div class="page-nav"><div class="inner"><div class="prev"><a href="/developing/osmosis-core/modules/spec-epochs.html">Epochs</a></div> <div class="next"><a href="/developing/osmosis-core/modules/spec-gov.html">Gov</a></div></div></div>  <div class="footer-container"><div class="company"><div class="copyright">Osmosis Labs</div></div> <div class="links-container"><ul class="learn"><li>Learn</li> <li><a href="https://medium.com/@Osmosis" target="_blank">Medium</a></li> <li><a href="https://commonwealth.im/osmosis/" target="_blank">Commonwealth</a></li></ul> <ul class="developers"><li>Tools</li> <li><a href="https://app.osmosis.zone" target="_blank">Osmosis App</a></li> <li><a href="https://www.mintscan.io/osmosis" target="_blank">Osmosis Explorer</a></li> <li><a href="https://info.osmosis.zone/" target="_blank">Stats</a></li></ul> <ul class="developers"><li>Osmo</li> <li><a href="https://docs.osmosis.zone/overview/osmo.html#purpose" target="_blank">What is Osmo?</a></li> <li><a href="https://docs.osmosis.zone/overview/osmosis-app/#bonding-lp-tokens" target="_blank">Pools</a></li> <li><a href="https://docs.osmosis.zone/overview/wallets/keplr/" target="_blank">Wallets</a></li></ul> <ul class="developers"><li>Foundation</li> <li><a href="https://angel.co/company/osmosis-labs/jobs" target="_blank">Careers</a></li></ul> <ul class="developers"><li>Developers</li> <li><a href="https://github.com/osmosis-labs" target="_blank">Github</a></li></ul> <ul class="developers"><li>Validators</li> <li><a href="https://docs.osmosis.zone/validators/" target="_blank">Validator Guide</a></li> <li><a href="https://discord.gg/3gSAbqV3Qp" target="_blank">Discord Channel</a></li></ul></div> <div class="sns-container"><div class="logos"><a href="https://discord.gg/3gSAbqV3Qp" rel="noopener" target="_blank"><img src="/img/discord.svg" alt="link to Osmosis discord room"></a> <a href="https://medium.com/@Osmosis" rel="noopener" target="_blank"><img src="/img/medium.svg" alt="link to Osmosis medium"></a> <a href="https://twitter.com/osmosiszone" rel="noopener" target="_blank"><img src="/img/twitter.svg" alt="link to Osmosis twitter"></a> <a href="https://www.youtube.com/channel/UC3ScmmLC4WUJAkINyf_p2Rw" rel="noopener" target="_blank"><img src="/img/icon_youtube.png" alt="link to Osmosis youtube"></a> <a href rel="noopener" target="_blank"><img src="/img/icon_telegram.png" alt="link to Osmosis telegram room"></a></div> <a href="https://www.osmosis.zone" target="_blank" class="osmosiszone">osmosis.zone</a></div></div></main></div><div class="global-ui"><div class="darkmode-switch"><div class="item day active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon"><path d="M512 256a42.666667 42.666667 0 0 0 42.666667-42.666667V128a42.666667 42.666667 0 0 0-85.333334 0v85.333333a42.666667 42.666667 0 0 0 42.666667 42.666667zM896 469.333333h-85.333333a42.666667 42.666667 0 0 0 0 85.333334h85.333333a42.666667 42.666667 0 0 0 0-85.333334zM256 512a42.666667 42.666667 0 0 0-42.666667-42.666667H128a42.666667 42.666667 0 0 0 0 85.333334h85.333333a42.666667 42.666667 0 0 0 42.666667-42.666667zM265.386667 213.333333a42.666667 42.666667 0 0 0-59.306667 62.72l61.44 59.306667a42.666667 42.666667 0 0 0 31.146667 11.946667 42.666667 42.666667 0 0 0 30.72-13.226667 42.666667 42.666667 0 0 0 0-60.16zM725.333333 347.306667a42.666667 42.666667 0 0 0 29.44-11.946667l61.44-59.306667A42.666667 42.666667 0 0 0 758.613333 213.333333l-61.44 60.586667a42.666667 42.666667 0 0 0 0 60.16 42.666667 42.666667 0 0 0 28.16 13.226667zM512 768a42.666667 42.666667 0 0 0-42.666667 42.666667v85.333333a42.666667 42.666667 0 0 0 85.333334 0v-85.333333a42.666667 42.666667 0 0 0-42.666667-42.666667zM756.48 688.64a42.666667 42.666667 0 0 0-59.306667 61.44L758.613333 810.666667a42.666667 42.666667 0 0 0 29.44 11.946666 42.666667 42.666667 0 0 0 30.72-12.8 42.666667 42.666667 0 0 0 0-60.586666zM267.52 688.64l-61.44 59.306667a42.666667 42.666667 0 0 0 0 60.586666 42.666667 42.666667 0 0 0 30.72 12.8 42.666667 42.666667 0 0 0 28.586667-10.666666l61.44-59.306667a42.666667 42.666667 0 0 0-59.306667-61.44zM512 341.333333a170.666667 170.666667 0 1 0 170.666667 170.666667 170.666667 170.666667 0 0 0-170.666667-170.666667z"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon"><path d="M935.538601 630.40178c-11.43005-11.432249-28.673759-14.738607-43.531086-8.353536-46.733115 20.10317-96.362866 30.296859-147.50719 30.296859-99.589478 0-193.221796-38.783705-263.640252-109.20316-108.636744-108.636744-139.609745-270.022125-78.9083-411.148441 6.388069-14.85233 3.078713-32.098837-8.353536-43.532285-11.432249-11.432249-28.675758-14.743604-43.532285-8.354536-52.637312 22.64025-100.017388 54.809439-140.82552 95.616372-85.346135 85.346135-132.346869 198.821199-132.346869 319.519766 0 120.699566 47.001733 234.172631 132.347868 319.518766s198.821199 132.349067 319.517567 132.349067c120.699566 0 234.172431-47.002932 319.520765-132.351066 40.808132-40.810131 72.977122-88.190207 95.615373-140.82552C950.282205 659.081735 946.971849 641.834029 935.538601 630.40178z" p-id="3638"></path></svg></div></div></div></div>
    <script src="/assets/js/app.42af3c02.js" defer></script><script src="/assets/js/3.d6962d18.js" defer></script><script src="/assets/js/50.e437b290.js" defer></script>
  </body>
</html>
